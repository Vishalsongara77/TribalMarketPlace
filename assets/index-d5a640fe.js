import{r as p,a as Er,R as me,u as be,L as A,O as Rr,N as Ge,b as Xt,c as Zt,d as Tr,e as M,B as Lr}from"./vendor-fc0214ba.js";import{m as xe,A as es}from"./ui-d3444f06.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var Bs={exports:{}},vt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=p,Dr=Symbol.for("react.element"),Ir=Symbol.for("react.fragment"),_r=Object.prototype.hasOwnProperty,Mr=Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Br={key:!0,ref:!0,__self:!0,__source:!0};function Us(t,s,r){var a,n={},i=null,l=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(a in s)_r.call(s,a)&&!Br.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:Dr,type:t,key:i,ref:l,props:n,_owner:Mr.current}}vt.Fragment=Ir;vt.jsx=Us;vt.jsxs=Us;Bs.exports=vt;var e=Bs.exports,Mt={},ps=Er;Mt.createRoot=ps.createRoot,Mt.hydrateRoot=ps.hydrateRoot;let Ur={data:""},$r=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Ur,qr=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Wr=/\/\*[^]*?\*\/|  +/g,fs=/\n+/g,Se=(t,s)=>{let r="",a="",n="";for(let i in t){let l=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+l+";":a+=i[1]=="f"?Se(l,i):i+"{"+Se(l,i[1]=="k"?"":s)+"}":typeof l=="object"?a+=Se(l,s?s.replace(/([^,])+/g,m=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,m):m?m+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Se.p?Se.p(i,l):i+":"+l+";")}return r+(s&&n?s+"{"+n+"}":n)+a},ye={},$s=t=>{if(typeof t=="object"){let s="";for(let r in t)s+=r+$s(t[r]);return s}return t},Hr=(t,s,r,a,n)=>{let i=$s(t),l=ye[i]||(ye[i]=(c=>{let x=0,o=11;for(;x<c.length;)o=101*o+c.charCodeAt(x++)>>>0;return"go"+o})(i));if(!ye[l]){let c=i!==t?t:(x=>{let o,u,y=[{}];for(;o=qr.exec(x.replace(Wr,""));)o[4]?y.shift():o[3]?(u=o[3].replace(fs," ").trim(),y.unshift(y[0][u]=y[0][u]||{})):y[0][o[1]]=o[2].replace(fs," ").trim();return y[0]})(t);ye[l]=Se(n?{["@keyframes "+l]:c}:c,r?"":"."+l)}let m=r&&ye.g?ye.g:null;return r&&(ye.g=ye[l]),((c,x,o,u)=>{u?x.data=x.data.replace(u,c):x.data.indexOf(c)===-1&&(x.data=o?c+x.data:x.data+c)})(ye[l],s,a,m),l},zr=(t,s,r)=>t.reduce((a,n,i)=>{let l=s[i];if(l&&l.call){let m=l(r),c=m&&m.props&&m.props.className||/^go/.test(m)&&m;l=c?"."+c:m&&typeof m=="object"?m.props?"":Se(m,""):m===!1?"":m}return a+n+(l??"")},"");function wt(t){let s=this||{},r=t.call?t(s.p):t;return Hr(r.unshift?r.raw?zr(r,[].slice.call(arguments,1),s.p):r.reduce((a,n)=>Object.assign(a,n&&n.call?n(s.p):n),{}):r,$r(s.target),s.g,s.o,s.k)}let qs,Bt,Ut;wt.bind({g:1});let Ne=wt.bind({k:1});function Vr(t,s,r,a){Se.p=s,qs=t,Bt=r,Ut=a}function Pe(t,s){let r=this||{};return function(){let a=arguments;function n(i,l){let m=Object.assign({},i),c=m.className||n.className;r.p=Object.assign({theme:Bt&&Bt()},m),r.o=/ *go\d+/.test(c),m.className=wt.apply(r,a)+(c?" "+c:""),s&&(m.ref=l);let x=t;return t[0]&&(x=m.as||t,delete m.as),Ut&&x[0]&&Ut(m),qs(x,m)}return s?s(n):n}}var Jr=t=>typeof t=="function",gt=(t,s)=>Jr(t)?t(s):t,Gr=(()=>{let t=0;return()=>(++t).toString()})(),Ws=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),Yr=20,ts="default",Hs=(t,s)=>{let{toastLimit:r}=t.settings;switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===s.toast.id?{...l,...s.toast}:l)};case 2:let{toast:a}=s;return Hs(t,{type:t.toasts.find(l=>l.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=s;return{...t,toasts:t.toasts.map(l=>l.id===n||n===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let i=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},dt=[],zs={toasts:[],pausedAt:void 0,settings:{toastLimit:Yr}},fe={},Vs=(t,s=ts)=>{fe[s]=Hs(fe[s]||zs,t),dt.forEach(([r,a])=>{r===s&&a(fe[s])})},Js=t=>Object.keys(fe).forEach(s=>Vs(t,s)),Kr=t=>Object.keys(fe).find(s=>fe[s].toasts.some(r=>r.id===t)),kt=(t=ts)=>s=>{Vs(s,t)},Qr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Xr=(t={},s=ts)=>{let[r,a]=p.useState(fe[s]||zs),n=p.useRef(fe[s]);p.useEffect(()=>(n.current!==fe[s]&&a(fe[s]),dt.push([s,a]),()=>{let l=dt.findIndex(([m])=>m===s);l>-1&&dt.splice(l,1)}),[s]);let i=r.toasts.map(l=>{var m,c,x;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((m=t[l.type])==null?void 0:m.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((c=t[l.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||Qr[l.type],style:{...t.style,...(x=t[l.type])==null?void 0:x.style,...l.style}}});return{...r,toasts:i}},Zr=(t,s="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Gr()}),tt=t=>(s,r)=>{let a=Zr(s,t,r);return kt(a.toasterId||Kr(a.id))({type:2,toast:a}),a.id},I=(t,s)=>tt("blank")(t,s);I.error=tt("error");I.success=tt("success");I.loading=tt("loading");I.custom=tt("custom");I.dismiss=(t,s)=>{let r={type:3,toastId:t};s?kt(s)(r):Js(r)};I.dismissAll=t=>I.dismiss(void 0,t);I.remove=(t,s)=>{let r={type:4,toastId:t};s?kt(s)(r):Js(r)};I.removeAll=t=>I.remove(void 0,t);I.promise=(t,s,r)=>{let a=I.loading(s.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(n=>{let i=s.success?gt(s.success,n):void 0;return i?I.success(i,{id:a,...r,...r==null?void 0:r.success}):I.dismiss(a),n}).catch(n=>{let i=s.error?gt(s.error,n):void 0;i?I.error(i,{id:a,...r,...r==null?void 0:r.error}):I.dismiss(a)}),t};var ea=1e3,ta=(t,s="default")=>{let{toasts:r,pausedAt:a}=Xr(t,s),n=p.useRef(new Map).current,i=p.useCallback((u,y=ea)=>{if(n.has(u))return;let b=setTimeout(()=>{n.delete(u),l({type:4,toastId:u})},y);n.set(u,b)},[]);p.useEffect(()=>{if(a)return;let u=Date.now(),y=r.map(b=>{if(b.duration===1/0)return;let f=(b.duration||0)+b.pauseDuration-(u-b.createdAt);if(f<0){b.visible&&I.dismiss(b.id);return}return setTimeout(()=>I.dismiss(b.id,s),f)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[r,a,s]);let l=p.useCallback(kt(s),[s]),m=p.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=p.useCallback((u,y)=>{l({type:1,toast:{id:u,height:y}})},[l]),x=p.useCallback(()=>{a&&l({type:6,time:Date.now()})},[a,l]),o=p.useCallback((u,y)=>{let{reverseOrder:b=!1,gutter:f=8,defaultPosition:g}=y||{},d=r.filter(v=>(v.position||g)===(u.position||g)&&v.height),h=d.findIndex(v=>v.id===u.id),j=d.filter((v,w)=>w<h&&v.visible).length;return d.filter(v=>v.visible).slice(...b?[j+1]:[0,j]).reduce((v,w)=>v+(w.height||0)+f,0)},[r]);return p.useEffect(()=>{r.forEach(u=>{if(u.dismissed)i(u.id,u.removeDelay);else{let y=n.get(u.id);y&&(clearTimeout(y),n.delete(u.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:m,endPause:x,calculateOffset:o}}},sa=Ne`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ra=Ne`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aa=Ne`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,na=Pe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sa} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ra} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${aa} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,la=Ne`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ia=Pe("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${la} 1s linear infinite;
`,oa=Ne`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ca=Ne`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,da=Pe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oa} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ca} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ma=Pe("div")`
  position: absolute;
`,xa=Pe("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ua=Ne`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ha=Pe("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ua} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ga=({toast:t})=>{let{icon:s,type:r,iconTheme:a}=t;return s!==void 0?typeof s=="string"?p.createElement(ha,null,s):s:r==="blank"?null:p.createElement(xa,null,p.createElement(ia,{...a}),r!=="loading"&&p.createElement(ma,null,r==="error"?p.createElement(na,{...a}):p.createElement(da,{...a})))},pa=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,fa=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,ba="0%{opacity:0;} 100%{opacity:1;}",ya="0%{opacity:1;} 100%{opacity:0;}",ja=Pe("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Na=Pe("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,va=(t,s)=>{let r=t.includes("top")?1:-1,[a,n]=Ws()?[ba,ya]:[pa(r),fa(r)];return{animation:s?`${Ne(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ne(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wa=p.memo(({toast:t,position:s,style:r,children:a})=>{let n=t.height?va(t.position||s||"top-center",t.visible):{opacity:0},i=p.createElement(ga,{toast:t}),l=p.createElement(Na,{...t.ariaProps},gt(t.message,t));return p.createElement(ja,{className:t.className,style:{...n,...r,...t.style}},typeof a=="function"?a({icon:i,message:l}):p.createElement(p.Fragment,null,i,l))});Vr(p.createElement);var ka=({id:t,className:s,style:r,onHeightUpdate:a,children:n})=>{let i=p.useCallback(l=>{if(l){let m=()=>{let c=l.getBoundingClientRect().height;a(t,c)};m(),new MutationObserver(m).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return p.createElement("div",{ref:i,className:s,style:r},n)},Sa=(t,s)=>{let r=t.includes("top"),a=r?{top:0}:{bottom:0},n=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ws()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(r?1:-1)}px)`,...a,...n}},Ca=wt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ot=16,Pa=({reverseOrder:t,position:s="top-center",toastOptions:r,gutter:a,children:n,toasterId:i,containerStyle:l,containerClassName:m})=>{let{toasts:c,handlers:x}=ta(r,i);return p.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:ot,left:ot,right:ot,bottom:ot,pointerEvents:"none",...l},className:m,onMouseEnter:x.startPause,onMouseLeave:x.endPause},c.map(o=>{let u=o.position||s,y=x.calculateOffset(o,{reverseOrder:t,gutter:a,defaultPosition:s}),b=Sa(u,y);return p.createElement(ka,{id:o.id,key:o.id,onHeightUpdate:x.updateHeight,className:o.visible?Ca:"",style:b},o.type==="custom"?gt(o.message,o):n?n(o):p.createElement(wa,{toast:o,position:u}))}))},S=I;function Gs(t,s){return function(){return t.apply(s,arguments)}}const{toString:Aa}=Object.prototype,{getPrototypeOf:ss}=Object,{iterator:St,toStringTag:Ys}=Symbol,Ct=(t=>s=>{const r=Aa.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ge=t=>(t=t.toLowerCase(),s=>Ct(s)===t),Pt=t=>s=>typeof s===t,{isArray:qe}=Array,Be=Pt("undefined");function st(t){return t!==null&&!Be(t)&&t.constructor!==null&&!Be(t.constructor)&&ne(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ks=ge("ArrayBuffer");function Oa(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Ks(t.buffer),s}const Ea=Pt("string"),ne=Pt("function"),Qs=Pt("number"),rt=t=>t!==null&&typeof t=="object",Ra=t=>t===!0||t===!1,mt=t=>{if(Ct(t)!=="object")return!1;const s=ss(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Ys in t)&&!(St in t)},Ta=t=>{if(!rt(t)||st(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},La=ge("Date"),Fa=ge("File"),Da=ge("Blob"),Ia=ge("FileList"),_a=t=>rt(t)&&ne(t.pipe),Ma=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||ne(t.append)&&((s=Ct(t))==="formdata"||s==="object"&&ne(t.toString)&&t.toString()==="[object FormData]"))},Ba=ge("URLSearchParams"),[Ua,$a,qa,Wa]=["ReadableStream","Request","Response","Headers"].map(ge),Ha=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function at(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),qe(t))for(a=0,n=t.length;a<n;a++)s.call(null,t[a],a,t);else{if(st(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let m;for(a=0;a<l;a++)m=i[a],s.call(null,t[m],m,t)}}function Xs(t,s){if(st(t))return null;s=s.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const Oe=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Zs=t=>!Be(t)&&t!==Oe;function $t(){const{caseless:t,skipUndefined:s}=Zs(this)&&this||{},r={},a=(n,i)=>{const l=t&&Xs(r,i)||i;mt(r[l])&&mt(n)?r[l]=$t(r[l],n):mt(n)?r[l]=$t({},n):qe(n)?r[l]=n.slice():(!s||!Be(n))&&(r[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&at(arguments[n],a);return r}const za=(t,s,r,{allOwnKeys:a}={})=>(at(s,(n,i)=>{r&&ne(n)?t[i]=Gs(n,r):t[i]=n},{allOwnKeys:a}),t),Va=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ja=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},Ga=(t,s,r,a)=>{let n,i,l;const m={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)l=n[i],(!a||a(l,t,s))&&!m[l]&&(s[l]=t[l],m[l]=!0);t=r!==!1&&ss(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},Ya=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},Ka=t=>{if(!t)return null;if(qe(t))return t;let s=t.length;if(!Qs(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},Qa=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&ss(Uint8Array)),Xa=(t,s)=>{const a=(t&&t[St]).call(t);let n;for(;(n=a.next())&&!n.done;){const i=n.value;s.call(t,i[0],i[1])}},Za=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},en=ge("HTMLFormElement"),tn=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),bs=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),sn=ge("RegExp"),er=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};at(r,(n,i)=>{let l;(l=s(n,i,t))!==!1&&(a[i]=l||n)}),Object.defineProperties(t,a)},rn=t=>{er(t,(s,r)=>{if(ne(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(ne(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},an=(t,s)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return qe(t)?a(t):a(String(t).split(s)),r},nn=()=>{},ln=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function on(t){return!!(t&&ne(t.append)&&t[Ys]==="FormData"&&t[St])}const cn=t=>{const s=new Array(10),r=(a,n)=>{if(rt(a)){if(s.indexOf(a)>=0)return;if(st(a))return a;if(!("toJSON"in a)){s[n]=a;const i=qe(a)?[]:{};return at(a,(l,m)=>{const c=r(l,n+1);!Be(c)&&(i[m]=c)}),s[n]=void 0,i}}return a};return r(t,0)},dn=ge("AsyncFunction"),mn=t=>t&&(rt(t)||ne(t))&&ne(t.then)&&ne(t.catch),tr=((t,s)=>t?setImmediate:s?((r,a)=>(Oe.addEventListener("message",({source:n,data:i})=>{n===Oe&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),Oe.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ne(Oe.postMessage)),xn=typeof queueMicrotask<"u"?queueMicrotask.bind(Oe):typeof process<"u"&&process.nextTick||tr,un=t=>t!=null&&ne(t[St]),N={isArray:qe,isArrayBuffer:Ks,isBuffer:st,isFormData:Ma,isArrayBufferView:Oa,isString:Ea,isNumber:Qs,isBoolean:Ra,isObject:rt,isPlainObject:mt,isEmptyObject:Ta,isReadableStream:Ua,isRequest:$a,isResponse:qa,isHeaders:Wa,isUndefined:Be,isDate:La,isFile:Fa,isBlob:Da,isRegExp:sn,isFunction:ne,isStream:_a,isURLSearchParams:Ba,isTypedArray:Qa,isFileList:Ia,forEach:at,merge:$t,extend:za,trim:Ha,stripBOM:Va,inherits:Ja,toFlatObject:Ga,kindOf:Ct,kindOfTest:ge,endsWith:Ya,toArray:Ka,forEachEntry:Xa,matchAll:Za,isHTMLForm:en,hasOwnProperty:bs,hasOwnProp:bs,reduceDescriptors:er,freezeMethods:rn,toObjectSet:an,toCamelCase:tn,noop:nn,toFiniteNumber:ln,findKey:Xs,global:Oe,isContextDefined:Zs,isSpecCompliantForm:on,toJSONObject:cn,isAsyncFn:dn,isThenable:mn,setImmediate:tr,asap:xn,isIterable:un};function D(t,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}N.inherits(D,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.status}}});const sr=D.prototype,rr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{rr[t]={value:t}});Object.defineProperties(D,rr);Object.defineProperty(sr,"isAxiosError",{value:!0});D.from=(t,s,r,a,n,i)=>{const l=Object.create(sr);N.toFlatObject(t,l,function(o){return o!==Error.prototype},x=>x!=="isAxiosError");const m=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return D.call(l,m,c,r,a,n),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",i&&Object.assign(l,i),l};const hn=null;function qt(t){return N.isPlainObject(t)||N.isArray(t)}function ar(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function ys(t,s,r){return t?t.concat(s).map(function(n,i){return n=ar(n),!r&&i?"["+n+"]":n}).join(r?".":""):s}function gn(t){return N.isArray(t)&&!t.some(qt)}const pn=N.toFlatObject(N,{},null,function(s){return/^is[A-Z]/.test(s)});function At(t,s,r){if(!N.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=N.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,d){return!N.isUndefined(d[g])});const a=r.metaTokens,n=r.visitor||o,i=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(s);if(!N.isFunction(n))throw new TypeError("visitor must be a function");function x(f){if(f===null)return"";if(N.isDate(f))return f.toISOString();if(N.isBoolean(f))return f.toString();if(!c&&N.isBlob(f))throw new D("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(f)||N.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function o(f,g,d){let h=f;if(f&&!d&&typeof f=="object"){if(N.endsWith(g,"{}"))g=a?g:g.slice(0,-2),f=JSON.stringify(f);else if(N.isArray(f)&&gn(f)||(N.isFileList(f)||N.endsWith(g,"[]"))&&(h=N.toArray(f)))return g=ar(g),h.forEach(function(v,w){!(N.isUndefined(v)||v===null)&&s.append(l===!0?ys([g],w,i):l===null?g:g+"[]",x(v))}),!1}return qt(f)?!0:(s.append(ys(d,g,i),x(f)),!1)}const u=[],y=Object.assign(pn,{defaultVisitor:o,convertValue:x,isVisitable:qt});function b(f,g){if(!N.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+g.join("."));u.push(f),N.forEach(f,function(h,j){(!(N.isUndefined(h)||h===null)&&n.call(s,h,N.isString(j)?j.trim():j,g,y))===!0&&b(h,g?g.concat(j):[j])}),u.pop()}}if(!N.isObject(t))throw new TypeError("data must be an object");return b(t),s}function js(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function rs(t,s){this._pairs=[],t&&At(t,this,s)}const nr=rs.prototype;nr.append=function(s,r){this._pairs.push([s,r])};nr.toString=function(s){const r=s?function(a){return s.call(this,a,js)}:js;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function fn(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function lr(t,s,r){if(!s)return t;const a=r&&r.encode||fn;N.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(s,r):i=N.isURLSearchParams(s)?s.toString():new rs(s,r).toString(a),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class bn{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){N.forEach(this.handlers,function(a){a!==null&&s(a)})}}const Ns=bn,ir={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yn=typeof URLSearchParams<"u"?URLSearchParams:rs,jn=typeof FormData<"u"?FormData:null,Nn=typeof Blob<"u"?Blob:null,vn={isBrowser:!0,classes:{URLSearchParams:yn,FormData:jn,Blob:Nn},protocols:["http","https","file","blob","url","data"]},as=typeof window<"u"&&typeof document<"u",Wt=typeof navigator=="object"&&navigator||void 0,wn=as&&(!Wt||["ReactNative","NativeScript","NS"].indexOf(Wt.product)<0),kn=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Sn=as&&window.location.href||"http://localhost",Cn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:as,hasStandardBrowserEnv:wn,hasStandardBrowserWebWorkerEnv:kn,navigator:Wt,origin:Sn},Symbol.toStringTag,{value:"Module"})),te={...Cn,...vn};function Pn(t,s){return At(t,new te.classes.URLSearchParams,{visitor:function(r,a,n,i){return te.isNode&&N.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function An(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function On(t){const s={},r=Object.keys(t);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],s[i]=t[i];return s}function or(t){function s(r,a,n,i){let l=r[i++];if(l==="__proto__")return!0;const m=Number.isFinite(+l),c=i>=r.length;return l=!l&&N.isArray(n)?n.length:l,c?(N.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!m):((!n[l]||!N.isObject(n[l]))&&(n[l]=[]),s(r,a,n[l],i)&&N.isArray(n[l])&&(n[l]=On(n[l])),!m)}if(N.isFormData(t)&&N.isFunction(t.entries)){const r={};return N.forEachEntry(t,(a,n)=>{s(An(a),n,r,0)}),r}return null}function En(t,s,r){if(N.isString(t))try{return(s||JSON.parse)(t),N.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const ns={transitional:ir,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=N.isObject(s);if(i&&N.isHTMLForm(s)&&(s=new FormData(s)),N.isFormData(s))return n?JSON.stringify(or(s)):s;if(N.isArrayBuffer(s)||N.isBuffer(s)||N.isStream(s)||N.isFile(s)||N.isBlob(s)||N.isReadableStream(s))return s;if(N.isArrayBufferView(s))return s.buffer;if(N.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let m;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Pn(s,this.formSerializer).toString();if((m=N.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return At(m?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),En(s)):s}],transformResponse:[function(s){const r=this.transitional||ns.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(N.isResponse(s)||N.isReadableStream(s))return s;if(s&&N.isString(s)&&(a&&!this.responseType||n)){const l=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(m){if(l)throw m.name==="SyntaxError"?D.from(m,D.ERR_BAD_RESPONSE,this,null,this.response):m}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:te.classes.FormData,Blob:te.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],t=>{ns.headers[t]={}});const ls=ns,Rn=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tn=t=>{const s={};let r,a,n;return t&&t.split(`
`).forEach(function(l){n=l.indexOf(":"),r=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!r||s[r]&&Rn[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},vs=Symbol("internals");function Ve(t){return t&&String(t).trim().toLowerCase()}function xt(t){return t===!1||t==null?t:N.isArray(t)?t.map(xt):String(t)}function Ln(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const Fn=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Lt(t,s,r,a,n){if(N.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!N.isString(s)){if(N.isString(a))return s.indexOf(a)!==-1;if(N.isRegExp(a))return a.test(s)}}function Dn(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function In(t,s){const r=N.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,i,l){return this[a].call(this,s,n,i,l)},configurable:!0})})}class Ot{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function i(m,c,x){const o=Ve(c);if(!o)throw new Error("header name must be a non-empty string");const u=N.findKey(n,o);(!u||n[u]===void 0||x===!0||x===void 0&&n[u]!==!1)&&(n[u||c]=xt(m))}const l=(m,c)=>N.forEach(m,(x,o)=>i(x,o,c));if(N.isPlainObject(s)||s instanceof this.constructor)l(s,r);else if(N.isString(s)&&(s=s.trim())&&!Fn(s))l(Tn(s),r);else if(N.isObject(s)&&N.isIterable(s)){let m={},c,x;for(const o of s){if(!N.isArray(o))throw TypeError("Object iterator must return a key-value pair");m[x=o[0]]=(c=m[x])?N.isArray(c)?[...c,o[1]]:[c,o[1]]:o[1]}l(m,r)}else s!=null&&i(r,s,a);return this}get(s,r){if(s=Ve(s),s){const a=N.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return Ln(n);if(N.isFunction(r))return r.call(this,n,a);if(N.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Ve(s),s){const a=N.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||Lt(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function i(l){if(l=Ve(l),l){const m=N.findKey(a,l);m&&(!r||Lt(a,a[m],m,r))&&(delete a[m],n=!0)}}return N.isArray(s)?s.forEach(i):i(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!s||Lt(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const r=this,a={};return N.forEach(this,(n,i)=>{const l=N.findKey(a,i);if(l){r[l]=xt(n),delete r[i];return}const m=s?Dn(i):String(i).trim();m!==i&&delete r[i],r[m]=xt(n),a[m]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return N.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&N.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[vs]=this[vs]={accessors:{}}).accessors,n=this.prototype;function i(l){const m=Ve(l);a[m]||(In(n,l),a[m]=!0)}return N.isArray(s)?s.forEach(i):i(s),this}}Ot.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Ot.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});N.freezeMethods(Ot);const ue=Ot;function Ft(t,s){const r=this||ls,a=s||r,n=ue.from(a.headers);let i=a.data;return N.forEach(t,function(m){i=m.call(r,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function cr(t){return!!(t&&t.__CANCEL__)}function We(t,s,r){D.call(this,t??"canceled",D.ERR_CANCELED,s,r),this.name="CanceledError"}N.inherits(We,D,{__CANCEL__:!0});function dr(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new D("Request failed with status code "+r.status,[D.ERR_BAD_REQUEST,D.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function _n(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Mn(t,s){t=t||10;const r=new Array(t),a=new Array(t);let n=0,i=0,l;return s=s!==void 0?s:1e3,function(c){const x=Date.now(),o=a[i];l||(l=x),r[n]=c,a[n]=x;let u=i,y=0;for(;u!==n;)y+=r[u++],u=u%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),x-l<s)return;const b=o&&x-o;return b?Math.round(y*1e3/b):void 0}}function Bn(t,s){let r=0,a=1e3/s,n,i;const l=(x,o=Date.now())=>{r=o,n=null,i&&(clearTimeout(i),i=null),t(...x)};return[(...x)=>{const o=Date.now(),u=o-r;u>=a?l(x,o):(n=x,i||(i=setTimeout(()=>{i=null,l(n)},a-u)))},()=>n&&l(n)]}const pt=(t,s,r=3)=>{let a=0;const n=Mn(50,250);return Bn(i=>{const l=i.loaded,m=i.lengthComputable?i.total:void 0,c=l-a,x=n(c),o=l<=m;a=l;const u={loaded:l,total:m,progress:m?l/m:void 0,bytes:c,rate:x||void 0,estimated:x&&m&&o?(m-l)/x:void 0,event:i,lengthComputable:m!=null,[s?"download":"upload"]:!0};t(u)},r)},ws=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},ks=t=>(...s)=>N.asap(()=>t(...s)),Un=te.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,te.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(te.origin),te.navigator&&/(msie|trident)/i.test(te.navigator.userAgent)):()=>!0,$n=te.hasStandardBrowserEnv?{write(t,s,r,a,n,i){const l=[t+"="+encodeURIComponent(s)];N.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),N.isString(a)&&l.push("path="+a),N.isString(n)&&l.push("domain="+n),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qn(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Wn(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function mr(t,s,r){let a=!qn(s);return t&&(a||r==!1)?Wn(t,s):s}const Ss=t=>t instanceof ue?{...t}:t;function Ee(t,s){s=s||{};const r={};function a(x,o,u,y){return N.isPlainObject(x)&&N.isPlainObject(o)?N.merge.call({caseless:y},x,o):N.isPlainObject(o)?N.merge({},o):N.isArray(o)?o.slice():o}function n(x,o,u,y){if(N.isUndefined(o)){if(!N.isUndefined(x))return a(void 0,x,u,y)}else return a(x,o,u,y)}function i(x,o){if(!N.isUndefined(o))return a(void 0,o)}function l(x,o){if(N.isUndefined(o)){if(!N.isUndefined(x))return a(void 0,x)}else return a(void 0,o)}function m(x,o,u){if(u in s)return a(x,o);if(u in t)return a(void 0,x)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:m,headers:(x,o,u)=>n(Ss(x),Ss(o),u,!0)};return N.forEach(Object.keys({...t,...s}),function(o){const u=c[o]||n,y=u(t[o],s[o],o);N.isUndefined(y)&&u!==m||(r[o]=y)}),r}const xr=t=>{const s=Ee({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:m}=s;if(s.headers=l=ue.from(l),s.url=lr(mr(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),m&&l.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),N.isFormData(r)){if(te.hasStandardBrowserEnv||te.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(N.isFunction(r.getHeaders)){const c=r.getHeaders(),x=["content-type","content-length"];Object.entries(c).forEach(([o,u])=>{x.includes(o.toLowerCase())&&l.set(o,u)})}}if(te.hasStandardBrowserEnv&&(a&&N.isFunction(a)&&(a=a(s)),a||a!==!1&&Un(s.url))){const c=n&&i&&$n.read(i);c&&l.set(n,c)}return s},Hn=typeof XMLHttpRequest<"u",zn=Hn&&function(t){return new Promise(function(r,a){const n=xr(t);let i=n.data;const l=ue.from(n.headers).normalize();let{responseType:m,onUploadProgress:c,onDownloadProgress:x}=n,o,u,y,b,f;function g(){b&&b(),f&&f(),n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let d=new XMLHttpRequest;d.open(n.method.toUpperCase(),n.url,!0),d.timeout=n.timeout;function h(){if(!d)return;const v=ue.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),R={data:!m||m==="text"||m==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:v,config:t,request:d};dr(function(_){r(_),g()},function(_){a(_),g()},R),d=null}"onloadend"in d?d.onloadend=h:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(h)},d.onabort=function(){d&&(a(new D("Request aborted",D.ECONNABORTED,t,d)),d=null)},d.onerror=function(w){const R=w&&w.message?w.message:"Network Error",H=new D(R,D.ERR_NETWORK,t,d);H.event=w||null,a(H),d=null},d.ontimeout=function(){let w=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const R=n.transitional||ir;n.timeoutErrorMessage&&(w=n.timeoutErrorMessage),a(new D(w,R.clarifyTimeoutError?D.ETIMEDOUT:D.ECONNABORTED,t,d)),d=null},i===void 0&&l.setContentType(null),"setRequestHeader"in d&&N.forEach(l.toJSON(),function(w,R){d.setRequestHeader(R,w)}),N.isUndefined(n.withCredentials)||(d.withCredentials=!!n.withCredentials),m&&m!=="json"&&(d.responseType=n.responseType),x&&([y,f]=pt(x,!0),d.addEventListener("progress",y)),c&&d.upload&&([u,b]=pt(c),d.upload.addEventListener("progress",u),d.upload.addEventListener("loadend",b)),(n.cancelToken||n.signal)&&(o=v=>{d&&(a(!v||v.type?new We(null,t,d):v),d.abort(),d=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const j=_n(n.url);if(j&&te.protocols.indexOf(j)===-1){a(new D("Unsupported protocol "+j+":",D.ERR_BAD_REQUEST,t));return}d.send(i||null)})},Vn=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,n;const i=function(x){if(!n){n=!0,m();const o=x instanceof Error?x:this.reason;a.abort(o instanceof D?o:new We(o instanceof Error?o.message:o))}};let l=s&&setTimeout(()=>{l=null,i(new D(`timeout ${s} of ms exceeded`,D.ETIMEDOUT))},s);const m=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(x=>{x.unsubscribe?x.unsubscribe(i):x.removeEventListener("abort",i)}),t=null)};t.forEach(x=>x.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>N.asap(m),c}},Jn=Vn,Gn=function*(t,s){let r=t.byteLength;if(!s||r<s){yield t;return}let a=0,n;for(;a<r;)n=a+s,yield t.slice(a,n),a=n},Yn=async function*(t,s){for await(const r of Kn(t))yield*Gn(r,s)},Kn=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},Cs=(t,s,r,a)=>{const n=Yn(t,s);let i=0,l,m=c=>{l||(l=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:x,value:o}=await n.next();if(x){m(),c.close();return}let u=o.byteLength;if(r){let y=i+=u;r(y)}c.enqueue(new Uint8Array(o))}catch(x){throw m(x),x}},cancel(c){return m(c),n.return()}},{highWaterMark:2})},Ps=64*1024,{isFunction:ct}=N,Qn=(({Request:t,Response:s})=>({Request:t,Response:s}))(N.global),{ReadableStream:As,TextEncoder:Os}=N.global,Es=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Xn=t=>{t=N.merge.call({skipUndefined:!0},Qn,t);const{fetch:s,Request:r,Response:a}=t,n=s?ct(s):typeof fetch=="function",i=ct(r),l=ct(a);if(!n)return!1;const m=n&&ct(As),c=n&&(typeof Os=="function"?(f=>g=>f.encode(g))(new Os):async f=>new Uint8Array(await new r(f).arrayBuffer())),x=i&&m&&Es(()=>{let f=!1;const g=new r(te.origin,{body:new As,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!g}),o=l&&m&&Es(()=>N.isReadableStream(new a("").body)),u={stream:o&&(f=>f.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!u[f]&&(u[f]=(g,d)=>{let h=g&&g[f];if(h)return h.call(g);throw new D(`Response type '${f}' is not supported`,D.ERR_NOT_SUPPORT,d)})});const y=async f=>{if(f==null)return 0;if(N.isBlob(f))return f.size;if(N.isSpecCompliantForm(f))return(await new r(te.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(N.isArrayBufferView(f)||N.isArrayBuffer(f))return f.byteLength;if(N.isURLSearchParams(f)&&(f=f+""),N.isString(f))return(await c(f)).byteLength},b=async(f,g)=>{const d=N.toFiniteNumber(f.getContentLength());return d??y(g)};return async f=>{let{url:g,method:d,data:h,signal:j,cancelToken:v,timeout:w,onDownloadProgress:R,onUploadProgress:H,responseType:_,headers:Z,withCredentials:q="same-origin",fetchOptions:ee}=xr(f),C=s||fetch;_=_?(_+"").toLowerCase():"text";let O=Jn([j,v&&v.toAbortSignal()],w),P=null;const L=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let U;try{if(H&&x&&d!=="get"&&d!=="head"&&(U=await b(Z,h))!==0){let F=new r(g,{method:"POST",body:h,duplex:"half"}),V;if(N.isFormData(h)&&(V=F.headers.get("content-type"))&&Z.setContentType(V),F.body){const[re,z]=ws(U,pt(ks(H)));h=Cs(F.body,Ps,re,z)}}N.isString(q)||(q=q?"include":"omit");const Y=i&&"credentials"in r.prototype,se={...ee,signal:O,method:d.toUpperCase(),headers:Z.normalize().toJSON(),body:h,duplex:"half",credentials:Y?q:void 0};P=i&&new r(g,se);let le=await(i?C(P,ee):C(g,se));const we=o&&(_==="stream"||_==="response");if(o&&(R||we&&L)){const F={};["status","statusText","headers"].forEach(k=>{F[k]=le[k]});const V=N.toFiniteNumber(le.headers.get("content-length")),[re,z]=R&&ws(V,pt(ks(R),!0))||[];le=new a(Cs(le.body,Ps,re,()=>{z&&z(),L&&L()}),F)}_=_||"text";let Fe=await u[N.findKey(u,_)||"text"](le,f);return!we&&L&&L(),await new Promise((F,V)=>{dr(F,V,{data:Fe,headers:ue.from(le.headers),status:le.status,statusText:le.statusText,config:f,request:P})})}catch(Y){throw L&&L(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new D("Network Error",D.ERR_NETWORK,f,P),{cause:Y.cause||Y}):D.from(Y,Y&&Y.code,f,P)}}},Zn=new Map,ur=t=>{let s=t?t.env:{};const{fetch:r,Request:a,Response:n}=s,i=[a,n,r];let l=i.length,m=l,c,x,o=Zn;for(;m--;)c=i[m],x=o.get(c),x===void 0&&o.set(c,x=m?new Map:Xn(s)),o=x;return x};ur();const Ht={http:hn,xhr:zn,fetch:{get:ur}};N.forEach(Ht,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const Rs=t=>`- ${t}`,el=t=>N.isFunction(t)||t===null||t===!1,hr={getAdapter:(t,s)=>{t=N.isArray(t)?t:[t];const{length:r}=t;let a,n;const i={};for(let l=0;l<r;l++){a=t[l];let m;if(n=a,!el(a)&&(n=Ht[(m=String(a)).toLowerCase()],n===void 0))throw new D(`Unknown adapter '${m}'`);if(n&&(N.isFunction(n)||(n=n.get(s))))break;i[m||"#"+l]=n}if(!n){const l=Object.entries(i).map(([c,x])=>`adapter ${c} `+(x===!1?"is not supported by the environment":"is not available in the build"));let m=r?l.length>1?`since :
`+l.map(Rs).join(`
`):" "+Rs(l[0]):"as no adapter specified";throw new D("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return n},adapters:Ht};function Dt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new We(null,t)}function Ts(t){return Dt(t),t.headers=ue.from(t.headers),t.data=Ft.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hr.getAdapter(t.adapter||ls.adapter,t)(t).then(function(a){return Dt(t),a.data=Ft.call(t,t.transformResponse,a),a.headers=ue.from(a.headers),a},function(a){return cr(a)||(Dt(t),a&&a.response&&(a.response.data=Ft.call(t,t.transformResponse,a.response),a.response.headers=ue.from(a.response.headers))),Promise.reject(a)})}const gr="1.12.2",Et={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Et[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const Ls={};Et.transitional=function(s,r,a){function n(i,l){return"[Axios v"+gr+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,m)=>{if(s===!1)throw new D(n(l," has been removed"+(r?" in "+r:"")),D.ERR_DEPRECATED);return r&&!Ls[l]&&(Ls[l]=!0,console.warn(n(l," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,l,m):!0}};Et.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function tl(t,s,r){if(typeof t!="object")throw new D("options must be an object",D.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const i=a[n],l=s[i];if(l){const m=t[i],c=m===void 0||l(m,i,t);if(c!==!0)throw new D("option "+i+" must be "+c,D.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new D("Unknown option "+i,D.ERR_BAD_OPTION)}}const ut={assertOptions:tl,validators:Et},pe=ut.validators;class ft{constructor(s){this.defaults=s||{},this.interceptors={request:new Ns,response:new Ns}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Ee(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&ut.assertOptions(a,{silentJSONParsing:pe.transitional(pe.boolean),forcedJSONParsing:pe.transitional(pe.boolean),clarifyTimeoutError:pe.transitional(pe.boolean)},!1),n!=null&&(N.isFunction(n)?r.paramsSerializer={serialize:n}:ut.assertOptions(n,{encode:pe.function,serialize:pe.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ut.assertOptions(r,{baseUrl:pe.spelling("baseURL"),withXsrfToken:pe.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&N.merge(i.common,i[r.method]);i&&N.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),r.headers=ue.concat(l,i);const m=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,m.unshift(g.fulfilled,g.rejected))});const x=[];this.interceptors.response.forEach(function(g){x.push(g.fulfilled,g.rejected)});let o,u=0,y;if(!c){const f=[Ts.bind(this),void 0];for(f.unshift(...m),f.push(...x),y=f.length,o=Promise.resolve(r);u<y;)o=o.then(f[u++],f[u++]);return o}y=m.length;let b=r;for(;u<y;){const f=m[u++],g=m[u++];try{b=f(b)}catch(d){g.call(this,d);break}}try{o=Ts.call(this,b)}catch(f){return Promise.reject(f)}for(u=0,y=x.length;u<y;)o=o.then(x[u++],x[u++]);return o}getUri(s){s=Ee(this.defaults,s);const r=mr(s.baseURL,s.url,s.allowAbsoluteUrls);return lr(r,s.params,s.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(s){ft.prototype[s]=function(r,a){return this.request(Ee(a||{},{method:s,url:r,data:(a||{}).data}))}});N.forEach(["post","put","patch"],function(s){function r(a){return function(i,l,m){return this.request(Ee(m||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}ft.prototype[s]=r(),ft.prototype[s+"Form"]=r(!0)});const ht=ft;class is{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(m=>{a.subscribe(m),i=m}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},s(function(i,l,m){a.reason||(a.reason=new We(i,l,m),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new is(function(n){s=n}),cancel:s}}}const sl=is;function rl(t){return function(r){return t.apply(null,r)}}function al(t){return N.isObject(t)&&t.isAxiosError===!0}const zt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zt).forEach(([t,s])=>{zt[s]=t});const nl=zt;function pr(t){const s=new ht(t),r=Gs(ht.prototype.request,s);return N.extend(r,ht.prototype,s,{allOwnKeys:!0}),N.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return pr(Ee(t,n))},r}const J=pr(ls);J.Axios=ht;J.CanceledError=We;J.CancelToken=sl;J.isCancel=cr;J.VERSION=gr;J.toFormData=At;J.AxiosError=D;J.Cancel=J.CanceledError;J.all=function(s){return Promise.all(s)};J.spread=rl;J.isAxiosError=al;J.mergeConfig=Ee;J.AxiosHeaders=ue;J.formToJSON=t=>or(N.isHTMLForm(t)?new FormData(t):t);J.getAdapter=hr.getAdapter;J.HttpStatusCode=nl;J.default=J;const ie=J,ll="http://localhost:5000/api",de=ie.create({baseURL:ll,timeout:1e4,headers:{"Content-Type":"application/json"}});de.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));de.interceptors.response.use(t=>t,t=>{var s;return((s=t.response)==null?void 0:s.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(t)});const _e={login:t=>de.post("/auth/login",t),register:t=>de.post("/auth/register",t),getCurrentUser:()=>de.get("/users/me"),updateProfile:t=>de.put("/users/profile",t),changePassword:t=>de.put("/users/password",t),forgotPassword:t=>de.post("/auth/forgot-password",{email:t}),resetPassword:(t,s)=>de.post(`/auth/reset-password/${t}`,{password:s})},Rt=p.createContext(),il={user:null,token:localStorage.getItem("token"),isAuthenticated:!1,loading:!0,error:null},ol=(t,s)=>{switch(s.type){case"AUTH_START":return{...t,loading:!0,error:null};case"AUTH_SUCCESS":return{...t,user:s.payload.user,token:s.payload.token,isAuthenticated:!0,loading:!1,error:null};case"AUTH_FAIL":return{...t,user:null,token:null,isAuthenticated:!1,loading:!1,error:s.payload};case"LOGOUT":return{...t,user:null,token:null,isAuthenticated:!1,loading:!1,error:null};case"UPDATE_USER":return{...t,user:{...t.user,...s.payload}};case"CLEAR_ERROR":return{...t,error:null};default:return t}},cl=({children:t})=>{const[s,r]=p.useReducer(ol,il);p.useEffect(()=>{(async()=>{const u=localStorage.getItem("token");if(u)try{const y=await _e.getProfile();r({type:"AUTH_SUCCESS",payload:{user:y.data.user,token:u}})}catch{localStorage.removeItem("token"),r({type:"AUTH_FAIL",payload:"Session expired"})}else r({type:"AUTH_FAIL",payload:null})})()},[]);const x={...s,login:async o=>{var u,y;try{r({type:"AUTH_START"});let b=null,f=null;if(o.email==="admin@tribalmarketplace.com"&&o.password==="admin123")b={_id:"admin123",name:"Admin User",email:"admin@tribalmarketplace.com",role:"admin"},f="demo-admin-token";else if(o.email==="seller@example.com"&&o.password==="seller123")b={_id:"seller123",name:"Ravi Kumar",email:"seller@example.com",role:"seller"},f="demo-seller-token";else if(o.email==="buyer@example.com"&&o.password==="buyer123")b={_id:"buyer123",name:"Priya Sharma",email:"buyer@example.com",role:"buyer"},f="demo-buyer-token";else throw new Error("Invalid email or password");return localStorage.setItem("token",f),r({type:"AUTH_SUCCESS",payload:{user:b,token:f}}),S.success(`Welcome back, ${b.name}!`),{success:!0}}catch(b){const f=((y=(u=b.response)==null?void 0:u.data)==null?void 0:y.message)||"Login failed";return r({type:"AUTH_FAIL",payload:f}),S.error(f),{success:!1,error:f}}},register:async o=>{var u,y;try{r({type:"AUTH_START"});const b=await _e.register(o),{token:f,user:g}=b.data;return localStorage.setItem("token",f),r({type:"AUTH_SUCCESS",payload:{user:g,token:f}}),S.success(`Welcome to Tribal Marketplace, ${g.name}!`),{success:!0}}catch(b){const f=((y=(u=b.response)==null?void 0:u.data)==null?void 0:y.message)||"Registration failed";return r({type:"AUTH_FAIL",payload:f}),S.error(f),{success:!1,error:f}}},logout:()=>{localStorage.removeItem("token"),r({type:"LOGOUT"}),S.success("Logged out successfully")},updateProfile:async o=>{var u,y;try{const b=await _e.updateProfile(o);return r({type:"UPDATE_USER",payload:b.data.user}),S.success("Profile updated successfully"),{success:!0}}catch(b){const f=((y=(u=b.response)==null?void 0:u.data)==null?void 0:y.message)||"Profile update failed";return S.error(f),{success:!1,error:f}}},changePassword:async o=>{var u,y;try{return await _e.changePassword(o),S.success("Password changed successfully"),{success:!0}}catch(b){const f=((y=(u=b.response)==null?void 0:u.data)==null?void 0:y.message)||"Password change failed";return S.error(f),{success:!1,error:f}}},clearError:()=>{r({type:"CLEAR_ERROR"})}};return e.jsx(Rt.Provider,{value:x,children:t})},G=()=>{const t=p.useContext(Rt);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},dl="modulepreload",ml=function(t){return"/TribalMarketPlace/"+t},Fs={},xl=function(s,r,a){if(!r||r.length===0)return s();const n=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=ml(i),i in Fs)return;Fs[i]=!0;const l=i.endsWith(".css"),m=l?'[rel="stylesheet"]':"";if(!!a)for(let o=n.length-1;o>=0;o--){const u=n[o];if(u.href===i&&(!l||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${m}`))return;const x=document.createElement("link");if(x.rel=l?"stylesheet":dl,l||(x.as="script",x.crossOrigin=""),x.href=i,document.head.appendChild(x),l)return new Promise((o,u)=>{x.addEventListener("load",o),x.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>s()).catch(i=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i})},B=ie.create({baseURL:"http://localhost:5000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});B.interceptors.request.use(async t=>{const s=localStorage.getItem("token");if(s&&(t.headers.Authorization=`Bearer ${s}`),["post","put","patch","delete"].includes(t.method))try{const{getCsrfToken:r}=await xl(()=>import("./csrf-5798996a.js"),["assets/csrf-5798996a.js","assets/vendor-fc0214ba.js","assets/ui-d3444f06.js"]),a=await r();a&&(t.headers["X-CSRF-Token"]=a)}catch(r){console.warn("Failed to get CSRF token:",r)}return t},t=>Promise.reject(t));B.interceptors.response.use(t=>t,t=>{var s;return((s=t.response)==null?void 0:s.status)===401&&localStorage.removeItem("token"),Promise.reject(t)});const Ye={getProducts:t=>B.get("/products",{params:t}).catch(()=>B.get("/demo/products",{params:t})),getProduct:t=>B.get(`/products/${t}`).catch(()=>B.get(`/demo/products/${t}`)),createProduct:t=>B.post("/products",t),updateProduct:(t,s)=>B.put(`/products/${t}`,s),deleteProduct:t=>B.delete(`/products/${t}`),getSellerProducts:t=>B.get("/products/seller/my-products",{params:t}),getProductReviews:t=>B.get(`/products/${t}/reviews`).catch(()=>(console.log("Falling back to demo product reviews"),{data:{reviews:[{_id:"1",rating:5,comment:"Beautiful craftsmanship!",user:{_id:"u1",name:"Priya Sharma",avatar:"/images/avatars/user1.jpg"},createdAt:"2023-06-15T10:30:00Z"},{_id:"2",rating:4,comment:"Great quality, fast shipping",user:{_id:"u2",name:"Rahul Patel",avatar:"/images/avatars/user2.jpg"},createdAt:"2023-06-10T14:20:00Z"},{_id:"3",rating:5,comment:"Authentic tribal design, love it!",user:{_id:"u3",name:"Ananya Singh",avatar:"/images/avatars/user3.jpg"},createdAt:"2023-05-28T09:15:00Z"}]}})),addProductReview:(t,s)=>B.post(`/products/${t}/reviews`,s).catch(()=>(console.log("Falling back to demo add review endpoint"),{data:{success:!0}}))},Je={getCart:()=>B.get("/cart").catch(()=>B.get("/demo/cart")),addToCart:(t,s)=>B.post("/cart/add",{productId:t,quantity:s}).catch(r=>(console.log("Falling back to demo cart endpoint"),B.post("/demo/cart/add",{productId:t,quantity:s}))),updateQuantity:(t,s)=>B.put("/cart/update",{productId:t,quantity:s}).catch(r=>(console.log("Falling back to demo cart update endpoint"),B.put("/demo/cart/update",{productId:t,quantity:s}))),removeFromCart:t=>B.delete(`/cart/remove/${t}`).catch(s=>(console.log("Falling back to demo cart remove endpoint"),B.delete(`/demo/cart/remove/${t}`))),clearCart:()=>B.delete("/cart/clear").catch(t=>(console.log("Falling back to demo cart clear endpoint"),B.delete("/demo/cart/clear")))},fr={createOrder:t=>B.post("/checkout",t).catch(()=>B.post("/orders",t)),getOrders:t=>B.get("/orders",{params:t}).catch(()=>B.get("/demo/orders",{params:t})),getOrder:t=>B.get(`/orders/${t}`),updateOrderStatus:(t,s)=>B.put(`/orders/${t}/status`,{status:s}),cancelOrder:(t,s)=>B.put(`/orders/${t}/cancel`,{reason:s})},Me={getWishlist:()=>B.get("/users/wishlist").catch(()=>(console.log("Falling back to demo wishlist endpoint"),{data:{items:[{_id:"1",name:"Handcrafted Tribal Necklace",price:1299,stock:15,images:["/images/products/necklace.jpg"],category:{name:"Jewelry"}},{_id:"2",name:"Traditional Bamboo Flute",price:899,stock:8,images:["/images/products/flute.jpg"],category:{name:"Musical Instruments"}},{_id:"3",name:"Tribal Art Wall Hanging",price:2499,stock:5,images:["/images/products/art.jpg"],category:{name:"Home Decor"}}]}})),addToWishlist:t=>B.post("/users/wishlist/add",{productId:t}).catch(()=>(console.log("Falling back to demo wishlist add endpoint"),{data:{success:!0}})),removeFromWishlist:t=>B.delete(`/users/wishlist/remove/${t}`).catch(()=>(console.log("Falling back to demo wishlist remove endpoint"),{data:{success:!0}}))},os=p.createContext(),ul={items:[],totalItems:0,totalAmount:0,loading:!1,error:null},hl=(t,s)=>{switch(s.type){case"CART_LOADING":return{...t,loading:!0,error:null};case"CART_SUCCESS":return{...t,items:s.payload.items||[],totalItems:s.payload.totalItems||0,totalAmount:s.payload.totalAmount||0,loading:!1,error:null};case"CART_ERROR":return{...t,loading:!1,error:s.payload};case"ADD_ITEM_SUCCESS":return{...t,items:s.payload.items||t.items,totalItems:s.payload.totalItems||t.totalItems,totalAmount:s.payload.totalAmount||t.totalAmount,loading:!1};case"UPDATE_ITEM_SUCCESS":return{...t,items:s.payload.items||t.items,totalItems:s.payload.totalItems||t.totalItems,totalAmount:s.payload.totalAmount||t.totalAmount,loading:!1};case"REMOVE_ITEM_SUCCESS":return{...t,items:s.payload.items||t.items,totalItems:s.payload.totalItems||t.totalItems,totalAmount:s.payload.totalAmount||t.totalAmount,loading:!1};case"CLEAR_CART_SUCCESS":return{...t,items:[],totalItems:0,totalAmount:0,loading:!1};default:return t}},gl=({children:t})=>{const[s,r]=p.useReducer(hl,ul);p.useEffect(()=>{if(localStorage.getItem("token"))a();else{const x=JSON.parse(localStorage.getItem("guestCart")||'{"items":[]}'),o=x.items.reduce((y,b)=>y+b.quantity,0),u=x.items.reduce((y,b)=>y+b.price*b.quantity,0);r({type:"CART_SUCCESS",payload:{items:x.items,totalItems:o,totalAmount:u}})}},[]);const a=async()=>{try{r({type:"CART_LOADING"});const c=await Je.getCart();r({type:"CART_SUCCESS",payload:(c==null?void 0:c.data)||{items:[],totalItems:0,totalAmount:0}})}catch(c){console.error("Load cart error:",c),r({type:"CART_ERROR",payload:"Failed to load cart"}),r({type:"CART_SUCCESS",payload:{items:[],totalItems:0,totalAmount:0}})}},n=async(c,x=1)=>{var o,u;try{if(r({type:"CART_LOADING"}),localStorage.getItem("token"))try{const b=await Je.addToCart(c,x);return r({type:"ADD_ITEM_SUCCESS",payload:b.data}),{success:!0}}catch(b){throw b}else{const b=JSON.parse(localStorage.getItem("guestCart")||'{"items":[]}'),f=b.items.findIndex(h=>h.productId===c);if(f>=0)b.items[f].quantity+=x;else{const h=JSON.parse(localStorage.getItem(`product_${c}`)||"null"),j={productId:c,productName:(h==null?void 0:h.name)||"Product",price:(h==null?void 0:h.price)||0,image:(h==null?void 0:h.image)||"",artisanName:(h==null?void 0:h.artisanName)||"",quantity:x};b.items.push(j)}localStorage.setItem("guestCart",JSON.stringify(b));const g=b.items.reduce((h,j)=>h+j.quantity,0),d=b.items.reduce((h,j)=>h+j.price*j.quantity,0);return r({type:"ADD_ITEM_SUCCESS",payload:{items:b.items,totalItems:g,totalAmount:d}}),{success:!0}}}catch(y){const b=((u=(o=y.response)==null?void 0:o.data)==null?void 0:u.message)||"Failed to add item to cart";return r({type:"CART_ERROR",payload:b}),{success:!1,error:b}}},i=async(c,x)=>{var o,u;try{if(r({type:"CART_LOADING"}),localStorage.getItem("token")){const b=await Je.updateQuantity(c,x);return r({type:"UPDATE_ITEM_SUCCESS",payload:b.data}),S.success("Cart updated"),{success:!0}}else{const b=JSON.parse(localStorage.getItem("guestCart")||'{"items":[]}'),f=b.items.findIndex(g=>g.productId===c);if(f>=0){b.items[f].quantity=x,localStorage.setItem("guestCart",JSON.stringify(b));const g=b.items.reduce((h,j)=>h+j.quantity,0),d=b.items.reduce((h,j)=>h+j.price*j.quantity,0);return r({type:"UPDATE_ITEM_SUCCESS",payload:{items:b.items,totalItems:g,totalAmount:d}}),S.success("Cart updated"),{success:!0}}else throw new Error("Item not found in cart")}}catch(y){const b=((u=(o=y.response)==null?void 0:o.data)==null?void 0:u.message)||"Failed to update cart";return r({type:"CART_ERROR",payload:b}),S.error(b),{success:!1,error:b}}},l=async c=>{var x,o;try{if(r({type:"CART_LOADING"}),localStorage.getItem("token")){const y=await Je.removeFromCart(c);return r({type:"REMOVE_ITEM_SUCCESS",payload:y.data}),S.success("Item removed from cart"),{success:!0}}else{const y=JSON.parse(localStorage.getItem("guestCart")||'{"items":[]}');y.items=y.items.filter(g=>g.productId!==c),localStorage.setItem("guestCart",JSON.stringify(y));const b=y.items.reduce((g,d)=>g+d.quantity,0),f=y.items.reduce((g,d)=>g+d.price*d.quantity,0);return r({type:"REMOVE_ITEM_SUCCESS",payload:{items:y.items,totalItems:b,totalAmount:f}}),S.success("Item removed from cart"),{success:!0}}}catch(u){const y=((o=(x=u.response)==null?void 0:x.data)==null?void 0:o.message)||"Failed to remove item";return r({type:"CART_ERROR",payload:y}),S.error(y),{success:!1,error:y}}},m=async()=>{var c,x;try{return r({type:"CART_LOADING"}),localStorage.getItem("token")?(await Je.clearCart(),r({type:"CLEAR_CART_SUCCESS"}),S.dismiss("cart-cleared"),S.success("Cart cleared",{id:"cart-cleared",position:"top-right",duration:3e3,style:{background:"#2d2d2d",color:"#fff",borderRadius:"8px",boxShadow:"0 8px 24px rgba(0,0,0,0.25)"},ariaProps:{role:"status","aria-live":"polite"}}),{success:!0}):(localStorage.setItem("guestCart",JSON.stringify({items:[]})),r({type:"CLEAR_CART_SUCCESS"}),S.dismiss("cart-cleared"),S.success("Cart cleared",{id:"cart-cleared",position:"top-right",duration:3e3,style:{background:"#2d2d2d",color:"#fff",borderRadius:"8px",boxShadow:"0 8px 24px rgba(0,0,0,0.25)"},ariaProps:{role:"status","aria-live":"polite"}}),{success:!0})}catch(o){const u=((x=(c=o.response)==null?void 0:c.data)==null?void 0:x.message)||"Failed to clear cart";return r({type:"CART_ERROR",payload:u}),S.error(u),{success:!1,error:u}}};return e.jsx(os.Provider,{value:{...s,addToCart:n,updateQuantity:i,removeFromCart:l,clearCart:m,loadCart:a},children:t})},He=()=>{const t=p.useContext(os);if(!t)throw new Error("useCart must be used within a CartProvider");return t};var br={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ds=me.createContext&&me.createContext(br),pl=["attr","size","title"];function fl(t,s){if(t==null)return{};var r=bl(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function bl(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function bt(){return bt=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},bt.apply(this,arguments)}function Is(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function yt(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?Is(Object(r),!0).forEach(function(a){yl(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Is(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function yl(t,s,r){return s=jl(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function jl(t){var s=Nl(t,"string");return typeof s=="symbol"?s:s+""}function Nl(t,s){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function yr(t){return t&&t.map((s,r)=>me.createElement(s.tag,yt({key:r},s.attr),yr(s.child)))}function E(t){return s=>me.createElement(vl,bt({attr:yt({},t.attr)},s),yr(t.child))}function vl(t){var s=r=>{var{attr:a,size:n,title:i}=t,l=fl(t,pl),m=n||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),me.createElement("svg",bt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,l,{className:c,style:yt(yt({color:t.color||r.color},r.style),t.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),i&&me.createElement("title",null,i),t.children)};return Ds!==void 0?me.createElement(Ds.Consumer,null,r=>s(r)):s(br)}function jr(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function cs(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function he(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function Vt(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(t)}function Nr(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(t)}function vr(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"10"},child:[]},{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"16"},child:[]}]})(t)}function wl(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(t)}function Ke(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function kl(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(t)}function ds(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function jt(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function Qe(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function ms(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function Sl(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function xs(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function us(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function Re(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function Xe(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function Jt(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function je(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function Cl(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function Nt(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function Ze(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function et(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function Pl(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Te(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function Le(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function Al(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function wr(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function X(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function nt(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function lt(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function kr(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function it(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function Sr(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function Ol(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function hs(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function oe(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function ve(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function Tt(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function Cr(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function Ue(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(t)}function Pr(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function El(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(t)}function Ae(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function $e(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function It(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function Ce(t){return E({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}class Ar extends me.Component{constructor(s){super(s),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,r){console.error("Error caught by ErrorBoundary:",s,r),this.setState({error:s,errorInfo:r})}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:e.jsx(cs,{className:"text-red-600 text-2xl"})})}),e.jsx("h2",{className:"text-xl font-bold text-center mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 text-center mb-4",children:"We're sorry, but there was an error loading this page."}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-amber-600 text-white px-4 py-2 rounded-lg hover:bg-amber-700 transition-colors",children:"Reload Page"})}),this.props.showDetails&&e.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg overflow-auto max-h-40 text-xs",children:[e.jsx("p",{className:"font-semibold",children:"Error details:"}),e.jsx("p",{className:"text-red-600",children:this.state.error&&this.state.error.toString()}),e.jsx("p",{className:"mt-2 text-gray-700",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]})]})}):this.props.children}}const Rl=()=>{const[t,s]=p.useState(!1);let r,a,n;try{const o=G();r=o.user,a=o.isAuthenticated,n=o.logout}catch{r=null,a=!1,n=()=>{}}const{totalItems:i}=He(),l=be(),m=[{to:"/products",label:"Products"},{to:"/about",label:"About"},{to:"/contact",label:"Contact"}],c=()=>{n(),l("/")},x=()=>{if(!r)return"/";switch(r.role){case"admin":return"/admin/dashboard";case"seller":return"/seller/dashboard";case"artisan":return"/artisan/dashboard";case"buyer":return"/buyer/dashboard";default:return"/"}};return e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx(A,{to:"/",className:"flex items-center",children:e.jsx("span",{className:"text-2xl font-bold text-amber-600",children:"Tribal Marketplace"})}),e.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:m.map(o=>e.jsx(A,{to:o.to,className:"text-gray-700 hover:text-amber-600 transition-colors",children:o.label},o.to))}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(A,{to:"/cart",className:"relative p-2 text-gray-700 hover:text-amber-600 transition-colors","aria-label":"Shopping Cart",children:[e.jsx(oe,{className:"w-5 h-5"}),i>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-amber-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium",children:i>99?"99+":i})]}),a?e.jsxs(e.Fragment,{children:[e.jsx(A,{to:"/wishlist",className:"p-2 text-gray-700 hover:text-amber-600 transition-colors","aria-label":"Wishlist",children:e.jsx(je,{className:"w-5 h-5"})}),e.jsxs(A,{to:"/orders",className:"hidden sm:flex items-center space-x-1 text-gray-700 hover:text-amber-600 transition-colors",children:[e.jsx(hs,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden lg:block",children:"My Orders"})]}),e.jsxs(A,{to:"/profile",className:"hidden sm:flex items-center space-x-1 text-gray-700 hover:text-amber-600 transition-colors",children:[e.jsx(Ol,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden lg:block",children:"Profile"})]}),e.jsxs(A,{to:x(),className:"flex items-center space-x-2 text-gray-700 hover:text-amber-600 transition-colors",children:[e.jsx(Ae,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:block",children:r==null?void 0:r.name})]}),e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 text-gray-700 hover:text-red-600 transition-colors",children:[e.jsx(Pl,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:block",children:"Logout"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{to:"/login",className:"text-gray-700 hover:text-amber-600 transition-colors",children:"Login"}),e.jsx(A,{to:"/register",className:"bg-amber-600 text-white px-4 py-2 rounded-lg hover:bg-amber-700 transition-colors",children:"Register"})]}),e.jsx("button",{onClick:()=>s(!t),className:"md:hidden p-2 rounded-md text-gray-700 hover:text-amber-600",children:t?e.jsx(Ce,{className:"w-6 h-6"}):e.jsx(Al,{className:"w-6 h-6"})})]})]}),t&&e.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:e.jsx("div",{className:"flex flex-col space-y-4",children:m.map(o=>e.jsx(A,{to:o.to,className:"text-gray-700 hover:text-amber-600 transition-colors",onClick:()=>s(!1),children:o.label},o.to))})})]})})},Tl=()=>e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("h3",{className:"text-2xl font-bold text-amber-400 mb-4",children:"Tribal Marketplace"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Empowering tribal artisans by connecting their authentic crafts with global customers, preserving cultural heritage while ensuring fair compensation."}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-4 h-4 text-amber-400"}),e.jsx("span",{className:"text-gray-300",children:"support@tribalmarketplace.com"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(nt,{className:"w-4 h-4 text-amber-400"}),e.jsx("span",{className:"text-gray-300",children:"+91 98765 43210"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Le,{className:"w-4 h-4 text-amber-400"}),e.jsx("span",{className:"text-gray-300",children:"New Delhi, India"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(A,{to:"/products",className:"text-gray-300 hover:text-amber-400 transition-colors",children:"Products"})}),e.jsx("li",{children:e.jsx(A,{to:"/about",className:"text-gray-300 hover:text-amber-400 transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx(A,{to:"/contact",className:"text-gray-300 hover:text-amber-400 transition-colors",children:"Contact"})}),e.jsx("li",{children:e.jsx(A,{to:"/register",className:"text-gray-300 hover:text-amber-400 transition-colors",children:"Join as Artisan"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(A,{to:"/help",className:"text-gray-300 hover:text-amber-400 transition-colors",children:"Help Center"})}),e.jsx("li",{children:e.jsx(A,{to:"/shipping",className:"text-gray-300 hover:text-amber-400 transition-colors",children:"Shipping Info"})}),e.jsx("li",{children:e.jsx(A,{to:"/returns",className:"text-gray-300 hover:text-amber-400 transition-colors",children:"Returns"})}),e.jsx("li",{children:e.jsx(A,{to:"/privacy",className:"text-gray-300 hover:text-amber-400 transition-colors",children:"Privacy Policy"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:e.jsx("p",{className:"text-gray-400",children:" 2024 Tribal Marketplace. All rights reserved. Empowering Traditions, Connecting Worlds."})})]})}),Ll=()=>e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(Rl,{}),e.jsx("main",{className:"flex-1",children:e.jsx(Ar,{children:e.jsx(Rr,{})})}),e.jsx(Tl,{})]}),ce=({children:t,allowedRoles:s})=>{const{user:r,isAuthenticated:a,loading:n}=G();return n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})}):a?s&&!s.includes(r==null?void 0:r.role)?e.jsx(Ge,{to:"/",replace:!0}):t:e.jsx(Ge,{to:"/login",replace:!0})},Fl=()=>e.jsxs("div",{className:"min-h-screen",children:[e.jsx("section",{className:"bg-gradient-to-r from-amber-50 to-orange-50 py-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Empowering Tribal",e.jsx("span",{className:"text-amber-600",children:" Artisans"})]}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Discover authentic tribal handicrafts, artworks, and forest products. Support indigenous communities while preserving cultural heritage."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(A,{to:"/products",className:"bg-amber-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-amber-700 transition-colors flex items-center justify-center",children:["Shop Now ",e.jsx(Vt,{className:"ml-2"})]}),e.jsx(A,{to:"/about",className:"border border-amber-600 text-amber-600 px-8 py-3 rounded-lg font-medium hover:bg-amber-50 transition-colors",children:"Learn More"})]})]})})}),e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Why Choose Tribal Marketplace?"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"We connect you directly with tribal artisans, ensuring fair trade and authentic products."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"bg-amber-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ve,{className:"w-8 h-8 text-amber-600"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Authentic Products"}),e.jsx("p",{className:"text-gray-600",children:"Genuine tribal handicrafts made using traditional techniques passed down through generations."})]}),e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"bg-amber-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($e,{className:"w-8 h-8 text-amber-600"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Fair Trade"}),e.jsx("p",{className:"text-gray-600",children:"Direct connection with artisans ensures fair compensation and supports their communities."})]}),e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"bg-amber-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Jt,{className:"w-8 h-8 text-amber-600"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Cultural Preservation"}),e.jsx("p",{className:"text-gray-600",children:"Every purchase helps preserve traditional crafts and cultural heritage for future generations."})]})]})]})}),e.jsx("section",{className:"bg-amber-600 py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Make a Difference?"}),e.jsx("p",{className:"text-amber-100 mb-8 max-w-2xl mx-auto",children:"Join our community of conscious consumers supporting tribal artisans worldwide."}),e.jsxs(A,{to:"/register",className:"bg-white text-amber-600 px-8 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors inline-flex items-center",children:["Get Started ",e.jsx(Vt,{className:"ml-2"})]})]})})]}),Dl=({onSearch:t,onFilter:s,categories:r=[]})=>{const[a,n]=p.useState(""),[i,l]=p.useState(!1),[m,c]=p.useState({category:"",priceRange:[0,1e4],sortBy:"relevance",inStock:!1}),x=[{label:"All Prices",value:[0,1e4]},{label:"Under 500",value:[0,500]},{label:"500 - 1000",value:[500,1e3]},{label:"1000 - 2000",value:[1e3,2e3]},{label:"2000 - 5000",value:[2e3,5e3]},{label:"Above 5000",value:[5e3,1e4]}],o=[{label:"Relevance",value:"relevance"},{label:"Price: Low to High",value:"price_asc"},{label:"Price: High to Low",value:"price_desc"},{label:"Newest First",value:"newest"},{label:"Popularity",value:"popularity"}],u=d=>{n(d.target.value)},y=d=>{d.preventDefault(),t(a)},b=(d,h)=>{c(j=>({...j,[d]:h}))},f=()=>{s(m),window.innerWidth<768&&l(!1)},g=()=>{c({category:"",priceRange:[0,1e4],sortBy:"relevance",inStock:!1}),s({category:"",priceRange:[0,1e4],sortBy:"relevance",inStock:!1})};return p.useEffect(()=>{window.innerWidth>=768&&s(m)},[m,s]),e.jsxs("div",{className:"mb-8",children:[e.jsx("form",{onSubmit:y,className:"relative mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("input",{type:"text",value:a,onChange:u,placeholder:"Search for tribal crafts, jewelry, textiles...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-l-md focus:ring-amber-500 focus:border-amber-500"}),e.jsx(it,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),e.jsx("button",{type:"submit",className:"bg-amber-600 text-white px-4 py-2 rounded-r-md hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2",children:"Search"}),e.jsxs("button",{type:"button",onClick:()=>l(!i),className:"md:hidden ml-2 bg-gray-200 text-gray-700 px-3 py-2 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 flex items-center",children:[e.jsx(Xe,{className:"mr-1"}),"Filter"]})]})}),e.jsxs(xe.div,{className:"md:hidden fixed inset-y-0 right-0 z-50 w-4/5 max-w-sm bg-white shadow-xl",initial:{x:"100%"},animate:{x:i?0:"100%"},transition:{type:"tween",duration:.3},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Filters"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(Ce,{size:24})})]}),e.jsx("div",{className:"p-4 overflow-y-auto h-full pb-24",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Categories"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:"category-all-mobile",name:"category-mobile",checked:m.category==="",onChange:()=>b("category",""),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300"}),e.jsx("label",{htmlFor:"category-all-mobile",className:"ml-2 text-sm text-gray-700",children:"All Categories"})]}),r.map(d=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:`category-${d.id}-mobile`,name:"category-mobile",checked:m.category===d.id,onChange:()=>b("category",d.id),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300"}),e.jsx("label",{htmlFor:`category-${d.id}-mobile`,className:"ml-2 text-sm text-gray-700",children:d.name})]},d.id))]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Price Range"}),e.jsx("div",{className:"space-y-2",children:x.map((d,h)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"radio",id:`price-${h}-mobile`,name:"price-mobile",checked:m.priceRange[0]===d.value[0]&&m.priceRange[1]===d.value[1],onChange:()=>b("priceRange",d.value),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300"}),e.jsx("label",{htmlFor:`price-${h}-mobile`,className:"ml-2 text-sm text-gray-700",children:d.label})]},h))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Sort By"}),e.jsx("select",{value:m.sortBy,onChange:d=>b("sortBy",d.target.value),className:"block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500 text-sm",children:o.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"in-stock-mobile",checked:m.inStock,onChange:d=>b("inStock",d.target.checked),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"in-stock-mobile",className:"ml-2 text-sm text-gray-700",children:"In Stock Only"})]})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-white border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:g,className:"flex-1 py-2 px-4 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500",children:"Reset"}),e.jsx("button",{onClick:f,className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500",children:"Apply"})]})})]}),e.jsxs("div",{className:"hidden md:flex md:flex-wrap md:items-center md:gap-4 bg-gray-50 p-4 rounded-md",children:[e.jsxs("div",{className:"mr-6",children:[e.jsx("label",{htmlFor:"category-desktop",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{id:"category-desktop",value:m.category,onChange:d=>b("category",d.target.value),className:"block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500 text-sm",children:[e.jsx("option",{value:"",children:"All Categories"}),r.map(d=>e.jsx("option",{value:d.id,children:d.name},d.id))]})]}),e.jsxs("div",{className:"mr-6",children:[e.jsx("label",{htmlFor:"price-desktop",className:"block text-sm font-medium text-gray-700 mb-1",children:"Price Range"}),e.jsx("select",{id:"price-desktop",value:`${m.priceRange[0]}-${m.priceRange[1]}`,onChange:d=>{const[h,j]=d.target.value.split("-").map(Number);b("priceRange",[h,j])},className:"block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500 text-sm",children:x.map((d,h)=>e.jsx("option",{value:`${d.value[0]}-${d.value[1]}`,children:d.label},h))})]}),e.jsxs("div",{className:"mr-6",children:[e.jsx("label",{htmlFor:"sort-desktop",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),e.jsx("select",{id:"sort-desktop",value:m.sortBy,onChange:d=>b("sortBy",d.target.value),className:"block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500 text-sm",children:o.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"in-stock-desktop",checked:m.inStock,onChange:d=>b("inStock",d.target.checked),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"in-stock-desktop",className:"ml-2 text-sm text-gray-700",children:"In Stock Only"})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("button",{onClick:g,className:"py-2 px-4 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500",children:"Reset Filters"})})]})]})},Il=()=>{const{isAuthenticated:t}=G(),[s,r]=p.useState([]),[a,n]=p.useState(!0),[i,l]=p.useState(null),[m,c]=p.useState([]),[x,o]=p.useState("");p.useState("");const[u,y]=p.useState([]),[b,f]=p.useState({category:"",priceRange:[0,1e4],sortBy:"relevance",inStock:!1});p.useEffect(()=>{(async()=>{try{const h=await de.get("/products/categories/list");h.data.success&&y(["All",...h.data.categories])}catch(h){console.error("Error fetching categories:",h),y(["All","Jewelry","Textiles","Pottery","Handicrafts"])}})()},[]),p.useEffect(()=>{(async()=>{try{n(!0);const h={};x&&(h.q=x),b.category&&(h.category=b.category),b.priceRange&&b.priceRange.length===2&&(h.minPrice=b.priceRange[0],h.maxPrice=b.priceRange[1]),b.sortBy&&b.sortBy!=="relevance"&&(b.sortBy==="price_asc"?(h.sortBy="price",h.sortOrder="asc"):b.sortBy==="price_desc"?(h.sortBy="price",h.sortOrder="desc"):(h.sortBy=b.sortBy,h.sortOrder="desc"));const j=await Ye.getProducts(h);let v=j.data.products||j.data;b.inStock&&(v=v.filter(w=>w.stock>0)),r(v),l(null)}catch(h){console.error("Error fetching products:",h),l("Failed to load products. Please try again."),r([{_id:"1",name:"Tribal Beaded Necklace",price:3799,originalPrice:4299,seller:{name:"Rajasthani Handicrafts"},category:{name:"Jewelry"},rating:4.5,reviews:12,stock:10,image:"/api/placeholder/300/300"},{_id:"2",name:"Handwoven Tribal Rug",price:7499,originalPrice:8999,seller:{name:"Weaving Traditions"},category:{name:"Textiles"},rating:4.8,reviews:25,stock:5,image:"/api/placeholder/300/300"},{_id:"3",name:"Ceramic Tribal Bowl",price:2699,seller:{name:"Clay Masters"},category:{name:"Pottery"},rating:4.3,reviews:8,stock:0,image:"/api/placeholder/300/300"}])}finally{n(!1)}})()},[x,b]),p.useEffect(()=>{(async()=>{if(t)try{const h=await Me.getWishlist();h.success&&c(h.items.map(j=>j._id||j.productId))}catch(h){console.error("Error fetching wishlist:",h)}})()},[t]);const g=async d=>{if(!t){S.error("Please login to add items to your wishlist");return}try{m.includes(d)?(await Me.removeFromWishlist(d),c(m.filter(j=>j!==d)),S.success("Removed from wishlist")):(await Me.addToWishlist(d),c([...m,d]),S.success("Added to wishlist"))}catch(h){console.error("Wishlist operation failed:",h),S.error("Failed to update wishlist")}};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tribal Products"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Discover authentic handcrafted products from tribal artisans"})]}),e.jsx(Dl,{onSearch:d=>o(d),onFilter:d=>f(d),categories:u.map((d,h)=>({id:d,name:d}))}),a&&e.jsxs("div",{className:"flex justify-center items-center py-12",children:[e.jsx(Ze,{className:"w-8 h-8 animate-spin text-amber-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading products..."})]}),i&&!a&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 mb-4",children:i}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:"Try Again"})]}),!a&&!i&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"No products found matching your criteria."}),e.jsx("button",{onClick:()=>{o(""),f({category:"",priceRange:[0,1e4],sortBy:"relevance",inStock:!1})},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:"Reset Filters"})]}):s.map(d=>{var h,j;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-amber-100 to-orange-100",children:[d.image&&e.jsx("img",{src:d.image,alt:d.name,className:"w-full h-full object-cover",onError:v=>{v.target.src="/api/placeholder/300/300"}}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("button",{onClick:v=>{v.preventDefault(),g(d._id)},className:"p-2 bg-white rounded-full shadow-md hover:bg-gray-100 transition-colors",children:e.jsx(je,{className:`w-5 h-5 ${m.includes(d._id)?"text-red-500 fill-current":"text-gray-600"}`})})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"px-2 py-1 bg-amber-600 text-white text-xs font-medium rounded-full",children:((h=d.category)==null?void 0:h.name)||d.category})}),d.originalPrice&&e.jsx("div",{className:"absolute bottom-3 left-3",children:e.jsxs("span",{className:"px-2 py-1 bg-red-500 text-white text-xs font-medium rounded-full",children:[Math.round((d.originalPrice-d.price)/d.originalPrice*100),"% OFF"]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2",children:d.name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["by ",((j=d.seller)==null?void 0:j.name)||d.seller]}),e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm text-gray-600 ml-1",children:d.rating||0})]}),e.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",d.reviews||0," reviews)"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-xl font-bold text-amber-600",children:["",d.price.toLocaleString()]}),d.originalPrice&&e.jsxs("span",{className:"text-sm text-gray-500 line-through ml-2",children:["",d.originalPrice.toLocaleString()]})]}),e.jsx(A,{to:`/products/${d._id}`,className:"px-4 py-2 bg-amber-600 text-white text-sm font-medium rounded-lg hover:bg-amber-700 transition-colors",children:"View Details"})]})]})]},d._id)})}),s.length===0&&!a&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your criteria."})})]})})},_l=({productId:t,category:s})=>{const[r,a]=p.useState([]),[n,i]=p.useState(!0);return p.useEffect(()=>{(async()=>{if(!(!t||!s))try{i(!0);const m=await Ye.getProducts({category:s,limit:4});let c=m.data.products||m.data;c=c.filter(x=>x._id!==t).slice(0,4),a(c)}catch(m){console.error("Error fetching related products:",m),a([])}finally{i(!1)}})()},[t,s]),n||r.length===0?null:e.jsxs("div",{className:"mt-16",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Related Products"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(l=>{var m,c,x;return e.jsx(A,{to:`/products/${l._id}`,className:"group",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"relative h-48 bg-gray-200",children:l.image?e.jsx("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover",onError:o=>{o.target.src="https://via.placeholder.com/300x300/f59e0b/ffffff?text=Product"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-amber-100",children:e.jsx("span",{className:"text-amber-600",children:"No image"})})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1 group-hover:text-amber-600 transition-colors",children:l.name}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:((m=l.seller)==null?void 0:m.name)||"Tribal Artisan"}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((o,u)=>e.jsx(ve,{className:`w-4 h-4 ${u<Math.floor(l.rating||0)?"text-yellow-400 fill-current":"text-gray-300"}`},u))}),e.jsxs("span",{className:"ml-1 text-xs text-gray-600",children:["(",l.reviews||0,")"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-lg font-bold text-amber-600",children:["",((c=l.price)==null?void 0:c.toLocaleString())||0]}),l.originalPrice&&e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",(x=l.originalPrice)==null?void 0:x.toLocaleString()]})]})]})]})},l._id)})})]})},Ml=({productId:t})=>{const{user:s,isAuthenticated:r}=G(),[a,n]=p.useState([]),[i,l]=p.useState(!0),[m,c]=p.useState({rating:0,comment:""}),[x,o]=p.useState(!1),[u,y]=p.useState(!1);p.useEffect(()=>{b()},[t]);const b=async()=>{try{l(!0);const v=await Ye.getProductReviews(t);if(n(v.data.reviews||[]),r&&s){const w=v.data.reviews.some(R=>R.user._id===s._id);y(w)}}catch(v){console.error("Error fetching reviews:",v)}finally{l(!1)}},f=v=>{c({...m,rating:v})},g=v=>{c({...m,comment:v.target.value})},d=async v=>{if(v.preventDefault(),m.rating===0){I.error("Please select a rating");return}try{o(!0),await Ye.addProductReview(t,m),I.success("Review submitted successfully"),c({rating:0,comment:""}),b()}catch(w){console.error("Error submitting review:",w),I.error("Failed to submit review")}finally{o(!1)}},h=v=>Array(5).fill(0).map((w,R)=>e.jsx(ve,{className:`w-5 h-5 ${R<v?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},R)),j=()=>a.length===0?0:(a.reduce((w,R)=>w+R.rating,0)/a.length).toFixed(1);return e.jsxs("div",{className:"mt-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Customer Reviews"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-4xl font-bold text-gray-900 mr-4",children:j()}),e.jsxs("div",{children:[e.jsx("div",{className:"flex mb-1",children:h(Math.round(j()))}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Based on ",a.length," reviews"]})]})]})}),r&&!u&&e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Write a Review"}),e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(v=>e.jsx("button",{type:"button",onClick:()=>f(v),className:"focus:outline-none",children:e.jsx(ve,{className:`w-8 h-8 ${v<=m.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},v))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),e.jsx("textarea",{id:"comment",rows:"4",value:m.comment,onChange:g,className:"w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-amber-500 focus:border-amber-500",placeholder:"Share your experience with this product..."})]}),e.jsx("button",{type:"submit",disabled:x,className:"flex items-center justify-center w-full md:w-auto px-6 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 disabled:opacity-50",children:x?e.jsx(e.Fragment,{children:"Submitting..."}):e.jsxs(e.Fragment,{children:[e.jsx(Sr,{className:"mr-2"}),"Submit Review"]})})]})]}),i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-amber-600"})}):a.length===0?e.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-gray-500",children:"No reviews yet. Be the first to review this product!"})}):e.jsx("div",{className:"space-y-6",children:a.map(v=>{var w;return e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex mr-2",children:h(v.rating)}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[v.rating,"/5"]})]}),e.jsx("h4",{className:"font-medium text-gray-900",children:v.title||"Review"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:new Date(v.createdAt).toLocaleDateString()})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:v.comment}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Ae,{className:"mr-1"}),e.jsx("span",{children:((w=v.user)==null?void 0:w.name)||"Anonymous"}),e.jsx("span",{className:"mx-2",children:""}),e.jsx(Ke,{className:"mr-1"}),e.jsx("span",{children:"Verified Purchase"})]})]},v._id)})})]})},Bl=()=>{var h,j;const{id:t}=Xt(),s=be(),{addToCart:r}=He(),{isAuthenticated:a}=G(),[n,i]=p.useState(null),[l,m]=p.useState(!0),[c,x]=p.useState(null),[o,u]=p.useState(1),[y,b]=p.useState(0);p.useEffect(()=>{t&&(async()=>{try{m(!0);const w=await Ye.getProduct(t);i(w.data.product),x(null)}catch(w){console.error("Error fetching product:",w),x("Failed to load product details")}finally{m(!1)}})()},[t]);const f=v=>{const w=o+v;w>=1&&w<=((n==null?void 0:n.stock)||0)&&u(w)},g=async()=>{var v,w;try{const R={name:n.name,price:n.price,image:n.images&&n.images.length>0?n.images[0]:"",artisanName:((v=n.artisan)==null?void 0:v.name)||""};localStorage.setItem(`product_${n._id}`,JSON.stringify(R));const H=await r(n._id,o);if(H.success)u(1),S.success("Item added to cart");else if(H.error&&H.error.includes("login")){const _=JSON.parse(localStorage.getItem("guestCart")||'{"items":[]}'),Z=_.items.findIndex(q=>q.productId===n._id);Z>=0?_.items[Z].quantity+=o:_.items.push({productId:n._id,productName:n.name,price:n.price,image:n.images&&n.images.length>0?n.images[0]:"",artisanName:((w=n.artisan)==null?void 0:w.name)||"",quantity:o}),localStorage.setItem("guestCart",JSON.stringify(_)),S.success("Item added to guest cart"),u(1)}}catch{S.error("Failed to add item to cart")}},d=async()=>{if(!a){const v=localStorage.getItem("token");if(v&&(v.startsWith("demo-")||v.includes("demo"))){(await r(n._id,o)).success&&(S.success("Proceeding to checkout"),s("/checkout"));return}S.error("Please login to continue"),s("/login");return}try{(await r(n._id,o)).success&&(S.success("Proceeding to checkout"),s("/checkout"))}catch(v){console.error("Buy now error:",v),S.error("Failed to process your order. Please try again.")}};return l?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ze,{className:"w-8 h-8 animate-spin text-amber-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading product details..."})]})}):c||!n?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c||"The product you are looking for does not exist."}),e.jsx(A,{to:"/products",className:"bg-amber-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-amber-700 transition-colors",children:"Browse Products"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(A,{to:"/products",className:"inline-flex items-center text-amber-600 hover:text-amber-700",children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Back to Products"]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"aspect-square bg-gradient-to-br from-amber-100 to-orange-100 rounded-lg mb-4 overflow-hidden",children:n.images&&n.images.length>0?e.jsx("img",{src:n.images[y],alt:n.name,className:"w-full h-full object-cover",onError:v=>{v.target.src="https://via.placeholder.com/400x400/f59e0b/ffffff?text=Product+Image"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-32 h-32 bg-amber-200 rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-amber-700",children:"No Image Available"})]})})}),n.images&&n.images.length>1&&e.jsx("div",{className:"flex space-x-2",children:n.images.map((v,w)=>e.jsx("button",{onClick:()=>b(w),className:`w-16 h-16 rounded-lg border-2 overflow-hidden ${y===w?"border-amber-500":"border-gray-200"}`,children:e.jsx("img",{src:v,alt:`${n.name} ${w+1}`,className:"w-full h-full object-cover",onError:R=>{R.target.src="https://via.placeholder.com/64x64/f59e0b/ffffff?text=IMG"}})},w))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"inline-block px-3 py-1 bg-amber-100 text-amber-800 text-sm font-medium rounded-full mb-2",children:n.category}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n.name}),e.jsxs("p",{className:"text-gray-600",children:["by ",((h=n.seller)==null?void 0:h.name)||"Tribal Artisan"]})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((v,w)=>e.jsx(ve,{className:`w-5 h-5 ${w<Math.floor(n.rating||0)?"text-yellow-400 fill-current":"text-gray-300"}`},w))}),e.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[n.rating||0," (",n.reviews||0," reviews)"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-3xl font-bold text-amber-600",children:["",n.price.toLocaleString()]}),n.originalPrice&&n.originalPrice>n.price&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-xl text-gray-500 line-through",children:["",n.originalPrice.toLocaleString()]}),e.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-sm font-medium rounded",children:[Math.round((n.originalPrice-n.price)/n.originalPrice*100),"% OFF"]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:n.description})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Availability:"}),e.jsx("span",{className:`text-sm font-medium ${n.stock>0?"text-green-600":"text-red-600"}`,children:n.stock>0?`${n.stock} in stock`:"Out of stock"})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quantity:"}),e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[e.jsx("button",{onClick:()=>f(-1),className:"p-2 hover:bg-gray-100 disabled:opacity-50",disabled:o<=1,children:e.jsx(wr,{className:"w-4 h-4"})}),e.jsx("span",{className:"px-4 py-2 border-x border-gray-300",children:o}),e.jsx("button",{onClick:()=>f(1),className:"p-2 hover:bg-gray-100 disabled:opacity-50",disabled:o>=n.stock,children:e.jsx(lt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{onClick:g,disabled:n.stock===0,className:"flex-1 bg-amber-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-amber-700 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(oe,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),e.jsx("button",{onClick:d,disabled:n.stock===0,className:"flex-1 bg-gray-900 text-white py-3 px-6 rounded-lg font-medium hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Buy Now"}),e.jsx("button",{onClick:async()=>{try{await Me.addToWishlist(n._id),S.success("Added to wishlist")}catch{S.error("Failed to add to wishlist")}},className:"p-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:e.jsx(je,{className:"w-5 h-5 text-red-500"})})]})]})]})]})}),e.jsx(Ml,{productId:n==null?void 0:n._id}),e.jsx(_l,{productId:n==null?void 0:n._id,category:((j=n==null?void 0:n.category)==null?void 0:j.name)||(n==null?void 0:n.category)})]})})},Ul=()=>{const[t,s]=p.useState({email:"",password:""}),[r,a]=p.useState(!1),[n,i]=p.useState(!1),{login:l}=G(),m=be(),c=o=>{s({...t,[o.target.name]:o.target.value})},x=async o=>{o.preventDefault(),i(!0);try{const u=await l(t);u!=null&&u.success&&m("/")}catch(u){console.error("Login error:",u)}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(A,{to:"/register",className:"font-medium text-amber-600 hover:text-amber-500",children:"create a new account"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Te,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 focus:z-10 sm:text-sm",placeholder:"Enter your email",value:t.email,onChange:c})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(et,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full pl-10 pr-10 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 focus:z-10 sm:text-sm",placeholder:"Enter your password",value:t.password,onChange:c}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!r),children:r?e.jsx(us,{className:"h-5 w-5 text-gray-400"}):e.jsx(Re,{className:"h-5 w-5 text-gray-400"})})]})]})]}),e.jsxs("div",{children:[e.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Signing in...":"Sign in"}),e.jsx("div",{className:"text-sm text-center mt-3",children:e.jsx(A,{to:"/forgot-password",className:"font-medium text-amber-600 hover:text-amber-500",children:"Forgot your password?"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Demo Accounts:"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[e.jsx("strong",{children:"Admin:"})," admin@tribalmarketplace.com / admin123"]}),e.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[e.jsx("strong",{children:"Seller:"})," seller@example.com / seller123"]}),e.jsxs("div",{className:"bg-purple-50 p-2 rounded",children:[e.jsx("strong",{children:"Buyer:"})," buyer@example.com / buyer123"]})]})]})]})]})})},$l=()=>{const[t,s]=p.useState({name:"",email:"",password:"",phone:"",role:"buyer"}),[r,a]=p.useState(!1),[n,i]=p.useState(!1),{register:l}=G(),m=be(),c=o=>{s({...t,[o.target.name]:o.target.value})},x=async o=>{o.preventDefault(),i(!0);try{(await l(t)).success&&m("/")}catch(u){console.error("Registration error:",u)}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(A,{to:"/login",className:"font-medium text-amber-600 hover:text-amber-500",children:"sign in to existing account"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ae,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 focus:z-10 sm:text-sm",placeholder:"Enter your full name",value:t.name,onChange:c})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Te,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 focus:z-10 sm:text-sm",placeholder:"Enter your email",value:t.email,onChange:c})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(nt,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,className:"appearance-none relative block w-full pl-10 pr-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 focus:z-10 sm:text-sm",placeholder:"Enter your phone number",value:t.phone,onChange:c})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(et,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full pl-10 pr-10 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 focus:z-10 sm:text-sm",placeholder:"Enter your password",value:t.password,onChange:c}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!r),children:r?e.jsx(us,{className:"h-5 w-5 text-gray-400"}):e.jsx(Re,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Account Type"}),e.jsxs("select",{id:"role",name:"role",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm",value:t.role,onChange:c,children:[e.jsx("option",{value:"buyer",children:"Buyer - Purchase tribal products"}),e.jsx("option",{value:"seller",children:"Seller - Sell tribal products"})]})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating account...":"Create account"})})]})]})})},ql=()=>{const[t,s]=p.useState(""),[r,a]=p.useState(!1),[n,i]=p.useState(!1),l=async m=>{var c,x;if(m.preventDefault(),!t){I.error("Please enter your email address");return}try{a(!0),await _e.forgotPassword(t),i(!0),I.success("Password reset email sent! Please check your inbox.")}catch(o){const u=((x=(c=o.response)==null?void 0:c.data)==null?void 0:x.message)||"Failed to send reset email";I.error(u)}finally{a(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Forgot Password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:n?"Check your email for reset instructions":"Enter your email to receive a password reset link"})]}),n?e.jsxs("div",{className:"mt-8 space-y-6",children:[e.jsx("div",{className:"bg-green-50 p-4 rounded-md",children:e.jsx("p",{className:"text-green-800",children:"A password reset link has been sent to your email address. Please check your inbox and follow the instructions to reset your password."})}),e.jsx("div",{children:e.jsx("button",{onClick:()=>i(!1),className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500",children:"Try Again"})})]}):e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[e.jsx("div",{className:"rounded-md shadow-sm -space-y-px",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500",children:e.jsx(Te,{className:"h-5 w-5"})}),e.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-r-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t,onChange:m=>s(m.target.value)})]})]})}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500",children:r?"Sending...":"Send Reset Link"})})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs(A,{to:"/login",className:"font-medium text-amber-600 hover:text-amber-500 flex items-center justify-center",children:[e.jsx(he,{className:"mr-2"})," Back to Login"]})})]})})},Wl=()=>{const{token:t}=Xt(),s=be(),{login:r}=G(),[a,n]=p.useState(""),[i,l]=p.useState(""),[m,c]=p.useState(!1),[x,o]=p.useState(!1),u=async y=>{var b,f;if(y.preventDefault(),a.length<6){I.error("Password must be at least 6 characters");return}if(a!==i){I.error("Passwords do not match");return}try{o(!0);const g=await _e.resetPassword(t,a);g.data.token&&g.data.user?(await r({token:g.data.token,user:g.data.user}),I.success("Password reset successful! You are now logged in."),s("/")):(I.success("Password reset successful! Please login."),s("/login"))}catch(g){const d=((f=(b=g.response)==null?void 0:b.data)==null?void 0:f.message)||"Failed to reset password";I.error(d)}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset Your Password"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your new password below"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"New Password"}),e.jsxs("div",{className:"flex items-center relative",children:[e.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500",children:e.jsx(et,{className:"h-5 w-5"})}),e.jsx("input",{id:"password",name:"password",type:m?"text":"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-r-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 focus:z-10 sm:text-sm",placeholder:"New password",value:a,onChange:y=>n(y.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!m),children:m?e.jsx(us,{className:"h-5 w-5 text-gray-400"}):e.jsx(Re,{className:"h-5 w-5 text-gray-400"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500",children:e.jsx(et,{className:"h-5 w-5"})}),e.jsx("input",{id:"confirm-password",name:"confirmPassword",type:m?"text":"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-r-md focus:outline-none focus:ring-amber-500 focus:border-amber-500 focus:z-10 sm:text-sm",placeholder:"Confirm new password",value:i,onChange:y=>l(y.target.value)})]})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:x,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500",children:x?"Resetting...":"Reset Password"})})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs(A,{to:"/login",className:"font-medium text-amber-600 hover:text-amber-500 flex items-center justify-center",children:[e.jsx(he,{className:"mr-2"})," Back to Login"]})})]})})},Hl=()=>{G();const{addToCart:t}=He(),[s,r]=p.useState([]),[a,n]=p.useState(!0);p.useEffect(()=>{i()},[]);const i=async()=>{try{n(!0);const c=await Me.getWishlist();r(c.data.items||[])}catch(c){console.error("Error fetching wishlist:",c),I.error("Failed to load wishlist items")}finally{n(!1)}},l=async c=>{try{await Me.removeFromWishlist(c),r(s.filter(x=>x._id!==c)),I.success("Item removed from wishlist")}catch(x){console.error("Error removing from wishlist:",x),I.error("Failed to remove item from wishlist")}},m=async c=>{try{await t(c._id,1),I.success(`${c.name} added to cart`)}catch(x){console.error("Error adding to cart:",x),I.error("Failed to add item to cart")}};return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"My Wishlist"}),a?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-amber-600"})}):s.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(je,{className:"w-16 h-16 text-gray-300"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Your wishlist is empty"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Browse our products and add items to your wishlist"}),e.jsx(A,{to:"/products",className:"px-6 py-3 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:"Browse Products"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(c=>{var x;return e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx(A,{to:`/products/${c._id}`,className:"block",children:e.jsx("div",{className:"h-48 bg-gray-200 relative",children:c.images&&c.images.length>0?e.jsx("img",{src:c.images[0],alt:c.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:e.jsx("span",{className:"text-gray-400",children:"No image"})})})}),e.jsxs("div",{className:"p-4",children:[e.jsx(A,{to:`/products/${c._id}`,className:"block",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:c.name})}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:((x=c.category)==null?void 0:x.name)||"Uncategorized"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-xl font-bold text-amber-600",children:["",c.price.toLocaleString()]}),e.jsx("span",{className:`text-sm ${c.stock>0?"text-green-600":"text-red-600"}`,children:c.stock>0?`${c.stock} in stock`:"Out of stock"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>m(c),disabled:c.stock===0,className:"flex-1 bg-amber-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-amber-700 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"Add to Cart"]}),e.jsx("button",{onClick:()=>l(c._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg border border-gray-200",title:"Remove from wishlist",children:e.jsx(Tt,{className:"w-5 h-5"})})]})]})]},c._id)})})]})})},zl=()=>{const{items:t,totalAmount:s,totalItems:r,updateQuantity:a,removeFromCart:n,clearCart:i,loading:l}=He(),{isAuthenticated:m}=G(),c=be(),[x,o]=p.useState(new Set),u=async(g,d)=>{d<1||(o(h=>new Set(h).add(g)),await a(g,d),o(h=>{const j=new Set(h);return j.delete(g),j}))},y=async g=>{o(d=>new Set(d).add(g)),await n(g),o(d=>{const h=new Set(d);return h.delete(g),h})},b=async()=>{window.confirm("Are you sure you want to clear your cart?")&&await i()},f=()=>{const g=localStorage.getItem("token");if(!m&&(!g||!g.includes("demo"))){c("/login",{state:{from:"/cart",message:"Please log in to checkout"}});return}c("/checkout")};return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs("button",{onClick:()=>c(-1),className:"flex items-center text-gray-600 hover:text-amber-600 transition-colors",children:[e.jsx(he,{className:"mr-2"}),e.jsx("span",{children:"Continue Shopping"})]}),e.jsx("h1",{className:"text-2xl font-bold text-center flex-1",children:"Shopping Cart"})]}),l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})}):t.length===0?e.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[e.jsx(oe,{className:"text-6xl mb-4 text-amber-600"}),e.jsx("p",{className:"text-xl font-medium mb-4",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-500 mb-8",children:"Looks like you haven't added anything to your cart yet."}),e.jsx(A,{to:"/products",className:"bg-amber-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-amber-700 transition-colors",children:"Browse Products"})]})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("h2",{className:"font-semibold text-lg",children:["Cart Items (",r,")"]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:t.map(g=>e.jsxs("div",{className:"p-4 flex flex-col sm:flex-row items-start sm:items-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex-shrink-0 mr-4 mb-4 sm:mb-0",children:g.image?e.jsx("img",{src:g.image,alt:g.productName,className:"w-full h-full object-cover rounded-lg"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(oe,{className:"text-gray-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:g.productName}),g.artisanName&&e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["by ",g.artisanName]}),e.jsxs("p",{className:"text-amber-600 font-semibold",children:["",g.price]})]}),e.jsxs("div",{className:"flex items-center mt-4 sm:mt-0",children:[e.jsx("button",{onClick:()=>u(g.productId,g.quantity-1),disabled:x.has(g.productId)||g.quantity<=1,className:"p-1 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(wr,{className:"text-sm"})}),e.jsx("span",{className:"w-8 text-center text-sm font-medium",children:g.quantity}),e.jsx("button",{onClick:()=>u(g.productId,g.quantity+1),disabled:x.has(g.productId)||g.stock&&g.quantity>=g.stock,className:"p-1 hover:bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(lt,{className:"text-sm"})}),e.jsx("button",{onClick:()=>y(g.productId),disabled:x.has(g.productId),className:"ml-4 p-2 hover:bg-red-100 hover:text-red-600 rounded transition-colors disabled:opacity-50",children:e.jsx(Tt,{className:"text-sm"})})]})]},g.productId))})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[e.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsxs("span",{children:["Subtotal (",r," items)"]}),e.jsxs("span",{children:["",s]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Shipping"}),e.jsx("span",{children:"Calculated at checkout"})]}),e.jsx("div",{className:"border-t pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-amber-600",children:["",s]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:f,disabled:l,className:"w-full bg-amber-600 text-white py-3 rounded-lg font-medium hover:bg-amber-700 transition-colors disabled:opacity-50",children:m?"Proceed to Checkout":"Sign in to Checkout"}),e.jsx("button",{onClick:b,disabled:l,className:"w-full bg-gray-200 text-gray-700 py-2 rounded-lg font-medium hover:bg-gray-300 transition-colors disabled:opacity-50",children:"Clear Cart"})]})]})})]})]})};function Gt(t){return E({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8m5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0"},child:[]},{tag:"path",attr:{d:"M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195z"},child:[]},{tag:"path",attr:{d:"M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083q.088-.517.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1z"},child:[]},{tag:"path",attr:{d:"M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 6 6 0 0 1 3.13-1.567"},child:[]}]})(t)}function Or(t){return E({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"},child:[]},{tag:"path",attr:{d:"M2 5.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5m3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5"},child:[]}]})(t)}function _s(t){return E({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.06 3.713c.12-1.071-.093-1.832-.702-2.526C12.628.356 11.312 0 9.626 0H4.734a.7.7 0 0 0-.691.59L2.005 13.509a.42.42 0 0 0 .415.486h2.756l-.202 1.28a.628.628 0 0 0 .62.726H8.14c.429 0 .793-.31.862-.731l.025-.13.48-3.043.03-.164.001-.007a.35.35 0 0 1 .348-.297h.38c1.266 0 2.425-.256 3.345-.91q.57-.403.993-1.005a4.94 4.94 0 0 0 .88-2.195c.242-1.246.13-2.356-.57-3.154a2.7 2.7 0 0 0-.76-.59l-.094-.061ZM6.543 8.82a.7.7 0 0 1 .321-.079H8.3c2.82 0 5.027-1.144 5.672-4.456l.003-.016q.326.186.548.438c.546.623.679 1.535.45 2.71-.272 1.397-.866 2.307-1.663 2.874-.802.57-1.842.815-3.043.815h-.38a.87.87 0 0 0-.863.734l-.03.164-.48 3.043-.024.13-.001.004a.35.35 0 0 1-.348.296H5.595a.106.106 0 0 1-.105-.123l.208-1.32z"},child:[]}]})(t)}function Vl(t){return E({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12.136.326A1.5 1.5 0 0 1 14 1.78V3h.5A1.5 1.5 0 0 1 16 4.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 13.5v-9a1.5 1.5 0 0 1 1.432-1.499zM5.562 3H13V1.78a.5.5 0 0 0-.621-.484zM1.5 4a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5z"},child:[]}]})(t)}function Yt(t){return E({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3.963 7.235A3.963 3.963 0 00.422 9.419a3.963 3.963 0 000 3.559 3.963 3.963 0 003.541 2.184c1.07 0 1.97-.352 2.627-.957.748-.69 1.18-1.71 1.18-2.916a4.722 4.722 0 00-.07-.806H3.964v1.526h2.14a1.835 1.835 0 01-.79 1.205c-.356.241-.814.379-1.35.379-1.034 0-1.911-.697-2.225-1.636a2.375 2.375 0 010-1.517c.314-.94 1.191-1.636 2.225-1.636a2.152 2.152 0 011.52.594l1.132-1.13a3.808 3.808 0 00-2.652-1.033zm6.501.55v6.9h.886V11.89h1.465c.603 0 1.11-.196 1.522-.588a1.911 1.911 0 00.635-1.464 1.92 1.92 0 00-.635-1.456 2.125 2.125 0 00-1.522-.598zm2.427.85a1.156 1.156 0 01.823.365 1.176 1.176 0 010 1.686 1.171 1.171 0 01-.877.357H11.35V8.635h1.487a1.156 1.156 0 01.054 0zm4.124 1.175c-.842 0-1.477.308-1.907.925l.781.491c.288-.417.68-.626 1.175-.626a1.255 1.255 0 01.856.323 1.009 1.009 0 01.366.785v.202c-.34-.193-.774-.289-1.3-.289-.617 0-1.11.145-1.479.434-.37.288-.554.677-.554 1.165a1.476 1.476 0 00.525 1.156c.35.308.785.463 1.305.463.61 0 1.098-.27 1.465-.81h.038v.655h.848v-2.909c0-.61-.19-1.09-.568-1.44-.38-.35-.896-.525-1.551-.525zm2.263.154l1.946 4.422-1.098 2.38h.915L24 9.963h-.965l-1.368 3.391h-.02l-1.406-3.39zm-2.146 2.368c.494 0 .88.11 1.156.33 0 .372-.147.696-.44.973a1.413 1.413 0 01-.997.414 1.081 1.081 0 01-.69-.232.708.708 0 01-.293-.578c0-.257.12-.47.363-.647.24-.173.54-.26.9-.26Z"},child:[]}]})(t)}function Kt(t){return E({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15.85 8.167a.204.204 0 0 0-.04.004c-.68.19-.543 1.148-1.781 1.23h-.12a.23.23 0 0 0-.052.005h-.001a.24.24 0 0 0-.184.235v1.09c0 .134.106.241.237.241h.645v4.623c0 .132.104.238.233.238h1.058a.236.236 0 0 0 .233-.238v-4.623h.6c.13 0 .236-.107.236-.241v-1.09a.239.239 0 0 0-.236-.24h-.612V8.386a.218.218 0 0 0-.216-.22zm4.225 1.17c-.398 0-.762.15-1.042.395v-.124a.238.238 0 0 0-.234-.224h-1.07a.24.24 0 0 0-.236.242v5.92a.24.24 0 0 0 .236.242h1.07c.12 0 .217-.091.233-.209v-4.25a.393.393 0 0 1 .371-.408h.196a.41.41 0 0 1 .226.09.405.405 0 0 1 .145.319v4.074l.004.155a.24.24 0 0 0 .237.241h1.07a.239.239 0 0 0 .235-.23l-.001-4.246c0-.14.062-.266.174-.34a.419.419 0 0 1 .196-.068h.198c.23.02.37.2.37.408.005 1.396.004 2.8.004 4.224a.24.24 0 0 0 .237.241h1.07c.13 0 .236-.108.236-.241v-4.543c0-.31-.034-.442-.08-.577a1.601 1.601 0 0 0-1.51-1.09h-.015a1.58 1.58 0 0 0-1.152.5c-.291-.308-.7-.5-1.153-.5zM.232 9.4A.234.234 0 0 0 0 9.636v5.924c0 .132.096.238.216.241h1.09c.13 0 .237-.107.237-.24l.004-1.658H2.57c.857 0 1.453-.605 1.453-1.481v-1.538c0-.877-.596-1.484-1.453-1.484H.232zm9.032 0a.239.239 0 0 0-.237.241v2.47c0 .94.657 1.608 1.579 1.608h.675s.016 0 .037.004a.253.253 0 0 1 .222.253c0 .13-.096.235-.219.251l-.018.004-.303.006H9.739a.239.239 0 0 0-.236.24v1.09a.24.24 0 0 0 .236.242h1.75c.92 0 1.577-.669 1.577-1.608v-4.56a.239.239 0 0 0-.236-.24h-1.07a.239.239 0 0 0-.236.24c-.005.787 0 1.525 0 2.255a.253.253 0 0 1-.25.25h-.449a.253.253 0 0 1-.25-.255c.005-.754-.005-1.5-.005-2.25a.239.239 0 0 0-.236-.24zm-4.004.006a.232.232 0 0 0-.238.226v1.023c0 .132.113.24.252.24h1.413c.112.017.2.1.213.23v.14c-.013.124-.1.214-.207.224h-.7c-.93 0-1.594.63-1.594 1.515v1.269c0 .88.57 1.506 1.495 1.506h1.94c.348 0 .63-.27.63-.6v-4.136c0-1.004-.508-1.637-1.72-1.637zm-3.713 1.572h.678c.139 0 .25.115.25.256v.836a.253.253 0 0 1-.25.256h-.1c-.192.002-.386 0-.578 0zm4.67 1.977h.445c.139 0 .252.108.252.24v.932a.23.23 0 0 1-.014.076.25.25 0 0 1-.238.164h-.445a.247.247 0 0 1-.252-.24v-.933c0-.132.113-.239.252-.239Z"},child:[]}]})(t)}function Qt(t){return E({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.206 9.941h2.949v4.692c-.402.201-.938.268-1.34.268-1.072 0-1.609-.536-1.609-1.743V9.941zm13.47 4.816c-1.523 6.449-7.985 10.442-14.433 8.919C2.794 22.154-1.199 15.691.324 9.243 1.847 2.794 8.309-1.199 14.757.324c6.449 1.523 10.442 7.985 8.919 14.433zm-6.231-5.888a.887.887 0 0 0-.871-.871h-1.609l-3.686-4.222c-.335-.402-.871-.536-1.407-.402l-1.274.401c-.201.067-.268.335-.134.469l4.021 3.82H6.386c-.201 0-.335.134-.335.335v.67c0 .469.402.871.871.871h.938v3.217c0 2.413 1.273 3.82 3.418 3.82.67 0 1.206-.067 1.877-.335v2.145c0 .603.469 1.072 1.072 1.072h.938a.432.432 0 0 0 .402-.402V9.874h1.542c.201 0 .335-.134.335-.335v-.67z"},child:[]}]})(t)}const Jl=()=>{var ee,C;const t=be(),s=Zt(),{items:r,totalAmount:a,totalItems:n,clearCart:i}=p.useContext(os);p.useContext(Rt);const l=((ee=s.state)==null?void 0:ee.shippingDetails)||{},m=((C=s.state)==null?void 0:C.shippingMethod)||"standard",[c,x]=p.useState("card"),[o,u]=p.useState({cardNumber:"",cardName:"",expiryDate:"",cvv:""}),[y,b]=p.useState({}),[f,g]=p.useState(!1),[d,h]=p.useState(!1),[j,v]=p.useState(""),w=m==="express"?200:100,R=a*.18,H=a+w+R,_=O=>{const{name:P,value:L}=O.target;u({...o,[P]:L})},Z=()=>{const O={};return c==="card"&&(o.cardNumber?/^[0-9]{16}$/.test(o.cardNumber.replace(/\s/g,""))||(O.cardNumber="Please enter a valid 16-digit card number"):O.cardNumber="Card number is required",o.cardName||(O.cardName="Name on card is required"),o.expiryDate?/^(0[1-9]|1[0-2])\/([0-9]{2})$/.test(o.expiryDate)||(O.expiryDate="Please enter a valid expiry date (MM/YY)"):O.expiryDate="Expiry date is required",o.cvv?/^[0-9]{3,4}$/.test(o.cvv)||(O.cvv="Please enter a valid CVV"):O.cvv="CVV is required"),b(O),Object.keys(O).length===0},q=async O=>{O.preventDefault(),Z()&&(g(!0),setTimeout(()=>{const P="ORD"+Math.floor(1e5+Math.random()*9e5);v(P),h(!0),i(),g(!1)},2e3))};return p.useEffect(()=>{r.length===0&&!d&&t("/cart")},[r,t,d]),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-amber-600 transition-colors",children:[e.jsx(he,{className:"mr-2"}),e.jsx("span",{children:"Back"})]}),e.jsx("h1",{className:"text-2xl font-bold text-center flex-1",children:"Payment"})]}),d?e.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-8 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(jt,{className:"text-green-600 text-2xl"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your order has been placed successfully."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 w-full max-w-md mb-6",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Order ID:"}),e.jsx("span",{className:"font-medium",children:j})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),e.jsxs("span",{className:"font-medium",children:["",H.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),e.jsx("span",{className:"font-medium",children:c==="card"?"Credit/Debit Card":c==="paypal"?"PayPal":c==="googlepay"?"Google Pay":c==="upi_phonepe"?"PhonePe UPI":c==="upi_paytm"?"Paytm UPI":"Cash on Delivery"})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(A,{to:"/orders",className:"bg-amber-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-amber-700 transition-colors",children:"View Orders"}),e.jsx(A,{to:"/",className:"bg-gray-200 text-gray-700 py-3 px-6 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Continue Shopping"})]})]})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsx("h2",{className:"font-semibold text-lg",children:"Payment Method"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("label",{className:`border rounded-lg p-4 flex items-center cursor-pointer ${c==="card"?"border-amber-600 bg-amber-50":"border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"card",checked:c==="card",onChange:O=>x(O.target.value),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300"}),e.jsxs("div",{className:"ml-3 flex items-center",children:[e.jsx(Or,{className:"text-amber-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Credit/Debit Card"})]})]}),e.jsxs("label",{className:`border rounded-lg p-4 flex items-center cursor-pointer ${c==="paypal"?"border-amber-600 bg-amber-50":"border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"paypal",checked:c==="paypal",onChange:O=>x(O.target.value),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300"}),e.jsxs("div",{className:"ml-3 flex items-center",children:[e.jsx(_s,{className:"text-amber-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900",children:"PayPal"})]})]}),e.jsxs("label",{className:`border rounded-lg p-4 flex items-center cursor-pointer ${c==="googlepay"?"border-amber-600 bg-amber-50":"border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"googlepay",checked:c==="googlepay",onChange:O=>x(O.target.value),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300"}),e.jsxs("div",{className:"ml-3 flex items-center",children:[e.jsx(Yt,{className:"text-amber-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Google Pay"})]})]}),e.jsxs("label",{className:`border rounded-lg p-4 flex items-center cursor-pointer ${c==="upi_phonepe"?"border-amber-600 bg-amber-50":"border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"upi_phonepe",checked:c==="upi_phonepe",onChange:O=>x(O.target.value),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300"}),e.jsxs("div",{className:"ml-3 flex items-center",children:[e.jsx(Qt,{className:"text-amber-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900",children:"PhonePe UPI"})]})]}),e.jsxs("label",{className:`border rounded-lg p-4 flex items-center cursor-pointer ${c==="upi_paytm"?"border-amber-600 bg-amber-50":"border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"upi_paytm",checked:c==="upi_paytm",onChange:O=>x(O.target.value),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300"}),e.jsxs("div",{className:"ml-3 flex items-center",children:[e.jsx(Kt,{className:"text-amber-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Paytm UPI"})]})]}),e.jsxs("label",{className:`border rounded-lg p-4 flex items-center cursor-pointer ${c==="cod"?"border-amber-600 bg-amber-50":"border-gray-200"}`,children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:c==="cod",onChange:O=>x(O.target.value),className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300"}),e.jsxs("div",{className:"ml-3 flex items-center",children:[e.jsx(Gt,{className:"text-amber-600 mr-2"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Cash on Delivery"})]})]})]})}),c==="card"&&e.jsxs("form",{onSubmit:q,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(et,{className:"text-amber-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Secure Payment"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Your payment information is encrypted and secure. We do not store your card details."})]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",id:"cardNumber",name:"cardNumber",value:o.cardNumber,onChange:_,placeholder:"1234 5678 9012 3456",maxLength:"19",className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${y.cardNumber?"border-red-500":"border-gray-300"}`}),e.jsx(Qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),y.cardNumber&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.cardNumber})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"cardName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name on Card"}),e.jsx("input",{type:"text",id:"cardName",name:"cardName",value:o.cardName,onChange:_,placeholder:"John Doe",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${y.cardName?"border-red-500":"border-gray-300"}`}),y.cardName&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.cardName})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"expiryDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",id:"expiryDate",name:"expiryDate",value:o.expiryDate,onChange:_,placeholder:"MM/YY",maxLength:"5",className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${y.expiryDate?"border-red-500":"border-gray-300"}`}),e.jsx(Ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),y.expiryDate&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.expiryDate})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",id:"cvv",name:"cvv",value:o.cvv,onChange:_,placeholder:"123",maxLength:"4",className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent ${y.cvv?"border-red-500":"border-gray-300"}`}),e.jsx(Nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),y.cvv&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.cvv})]})]})]}),e.jsx("button",{type:"submit",disabled:f,className:"w-full bg-amber-600 text-white py-3 rounded-lg font-medium hover:bg-amber-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:f?e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"animate-spin mr-2"}),"Processing Payment..."]}):`Pay ${H.toFixed(2)}`})]}),c!=="card"&&e.jsxs("div",{children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[c==="paypal"&&e.jsxs("div",{className:"text-center",children:[e.jsx(_s,{className:"text-amber-600 text-4xl mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"You will be redirected to PayPal to complete your payment."})]}),c==="googlepay"&&e.jsxs("div",{className:"text-center",children:[e.jsx(Yt,{className:"text-amber-600 text-4xl mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"You will be redirected to Google Pay to complete your payment."})]}),c==="upi_phonepe"&&e.jsxs("div",{className:"text-center",children:[e.jsx(Qt,{className:"text-amber-600 text-4xl mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"You will be redirected to PhonePe to complete your payment."})]}),c==="upi_paytm"&&e.jsxs("div",{className:"text-center",children:[e.jsx(Kt,{className:"text-amber-600 text-4xl mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"You will be redirected to Paytm to complete your payment."})]}),c==="cod"&&e.jsxs("div",{className:"text-center",children:[e.jsx(Gt,{className:"text-amber-600 text-4xl mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Pay with cash when your order is delivered."})]})]}),e.jsx("button",{onClick:q,disabled:f,className:"w-full bg-amber-600 text-white py-3 rounded-lg font-medium hover:bg-amber-700 transition-colors disabled:opacity-50 flex items-center justify-center",children:f?e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"animate-spin mr-2"}),"Processing..."]}):c==="cod"?"Place Order":`Continue to ${c==="paypal"?"PayPal":c==="googlepay"?"Google Pay":c==="upi_phonepe"?"PhonePe":"Paytm"}`})]})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[e.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Order Summary"}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"max-h-60 overflow-y-auto mb-4",children:r.map(O=>e.jsxs("div",{className:"flex items-center py-2 border-b",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-md flex-shrink-0 mr-3",children:O.image?e.jsx("img",{src:O.image,alt:O.productName,className:"w-full h-full object-cover rounded-md"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(hs,{className:"text-gray-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:O.productName}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",O.quantity]})]}),e.jsxs("div",{className:"text-sm font-medium text-amber-600",children:["",(O.price*O.quantity).toFixed(2)]})]},O.productId))})}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsxs("span",{children:["Subtotal (",n," items)"]}),e.jsxs("span",{children:["",a.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Shipping"}),e.jsxs("span",{children:["",w]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Tax (18% GST)"}),e.jsxs("span",{children:["",R.toFixed(2)]})]}),e.jsx("div",{className:"border-t pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-amber-600",children:["",H.toFixed(2)]})]})})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Nt,{className:"text-amber-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Shipping Address"}),e.jsxs("p",{className:"text-xs text-gray-600",children:[l.name,", ",l.street,", ",l.city,", ",l.state," ",l.pincode]})]})]})})]})})]})]})},Gl=()=>{const{items:t,totalAmount:s,totalItems:r,loading:a}=He(),{user:n,isAuthenticated:i}=p.useContext(Rt),l=be(),[m,c]=p.useState(1),[x,o]=p.useState(!1);p.useState(null),p.useState(`ORD-${Math.floor(1e5+Math.random()*9e5)}`);const[u,y]=p.useState(()=>{const F=new Date;return F.setDate(F.getDate()+5),F.toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),[b,f]=p.useState({name:(n==null?void 0:n.name)||"",phone:(n==null?void 0:n.phone)||"",street:"",city:"",state:"",pincode:"",country:"India",email:(n==null?void 0:n.email)||"",addressType:"home"}),[g,d]=p.useState({}),[h,j]=p.useState("cod"),[v,w]=p.useState({cardNumber:"",cardName:"",expiry:"",cvv:""}),[R,H]=p.useState(""),[_,Z]=p.useState(""),[q,ee]=p.useState("standard"),C=q==="express"?150:50,O=s*.18,P=s+C+O,[L,U]=p.useState(null);p.useEffect(()=>{const F=localStorage.getItem("token"),V=F&&F.includes("demo");(a||r===0&&!V)&&l("/cart")},[a,r,l]);const Y=()=>{const F={};return b.name.trim()||(F.name="Name is required"),b.phone.trim()||(F.phone="Phone is required"),b.street.trim()||(F.street="Street address is required"),b.city.trim()||(F.city="City is required"),b.state.trim()||(F.state="State is required"),b.pincode.trim()||(F.pincode="PIN code is required"),d(F),Object.keys(F).length===0},se=F=>{const{name:V,value:re}=F.target;f(z=>({...z,[V]:re})),g[V]&&d(z=>({...z,[V]:""}))},le=async()=>{var F,V,re;if(!Y()){S.error("Please fill all required fields"),c(1);return}if(h==="card"){const{cardNumber:z,cardName:k,expiry:$,cvv:W}=v,T=[];if(z.trim()||T.push("Card Number"),k.trim()||T.push("Name on Card"),$.trim()||T.push("Expiry"),W.trim()||T.push("CVV"),T.length){S.error(`Please fill: ${T.join(", ")}`),c(2);return}}else if(h==="upi"&&!R.trim()){S.error("Please enter your UPI ID"),c(2);return}o(!0);try{const z={items:t.map(T=>{var K,Q,ae;return{productId:((K=T.product)==null?void 0:K._id)||T.productId,quantity:T.quantity,price:((Q=T.product)==null?void 0:Q.price)??T.price,productName:((ae=T.product)==null?void 0:ae.name)||T.productName}}),shippingAddress:b,paymentMethod:h,paymentDetails:h==="card"?{method:"card",last4:v.cardNumber.slice(-4),cardName:v.cardName}:h==="upi"?{method:"upi",upiId:R}:{method:"cod"},shippingMethod:q,notes:_,totalAmount:P,status:"pending",estimatedDelivery:u},k=localStorage.getItem("token"),$=k&&k.includes("demo"),W={id:`ORD-${Math.floor(1e5+Math.random()*9e5)}`,date:new Date().toISOString().split("T")[0],total:P,items:t.map(T=>{var K,Q,ae,ke,ze;return{id:((K=T.product)==null?void 0:K._id)||T.productId,name:((Q=T.product)==null?void 0:Q.name)||T.productName,price:((ae=T.product)==null?void 0:ae.price)??T.price,quantity:T.quantity,image:((ze=(ke=T.product)==null?void 0:ke.images)==null?void 0:ze[0])||"https://via.placeholder.com/80"}}),paymentMethod:h,shippingAddress:b,status:"Processing",estimatedDelivery:u,isMockOrder:!0};l("/order-confirmation",{state:{orderDetails:W}});return;if(i||$)try{const T=await fr.createOrder(z);T.data&&T.data.order&&l("/order-confirmation",{state:{orderDetails:T.data.order}})}catch(T){if(console.error("API Error:",T),((F=T.response)==null?void 0:F.status)===401){S.error("Authentication error. Please log in again."),l("/login");return}else if(((V=T.response)==null?void 0:V.status)===400){S.error(T.response.data.message||"Invalid order data. Please check your information.");return}else if(((re=T.response)==null?void 0:re.status)===500){S.error("Server error. Please try again later.");return}if($){const Q={orderNumber:`ORD-${Math.floor(1e5+Math.random()*9e5)}`,total:P,items:z.items,paymentMethod:h,shippingAddress:b,estimatedDelivery:u,isMockOrder:!0};l("/order-confirmation",{state:{orderDetails:Q}}),l("/order-confirmation",{state:{orderDetails:Q}})}else S.error("Failed to place order. Please try again.")}else{const K={orderNumber:`ORD-${Math.floor(1e5+Math.random()*9e5)}`,total:P,items:z.items,paymentMethod:h,shippingAddress:b,estimatedDelivery:u,isMockOrder:!0};l("/order-confirmation",{state:{orderDetails:K}}),typeof dispatch=="function"&&dispatch({type:"CLEAR_CART"}),setOrderPlaced(!0),S.success("Order placed successfully!")}}catch(z){console.error("Order placement error:",z),U("An error occurred while processing your order. Please try again."),S.error("Something went wrong. Please try again later.")}finally{o(!1)}},we=localStorage.getItem("token"),Fe=we&&we.includes("demo");return!i&&!Fe?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Nt,{className:"text-2xl text-amber-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to complete your checkout process."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[e.jsx(A,{to:"/login",className:"inline-block bg-amber-600 text-white py-2 px-6 rounded-lg font-medium hover:bg-amber-700 transition-colors",children:"Login"}),e.jsx(A,{to:"/register",className:"inline-block border border-amber-600 text-amber-600 py-2 px-6 rounded-lg font-medium hover:bg-amber-50 transition-colors",children:"Create Account"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs(A,{to:"/cart",className:"text-amber-600 hover:text-amber-700 flex items-center justify-center",children:[e.jsx(he,{className:"mr-2"}),"Return to Cart"]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsxs(A,{to:"/cart",className:"text-amber-600 hover:text-amber-700 flex items-center",children:[e.jsx(he,{className:"mr-2"}),"Back to Cart"]}),e.jsx("h1",{className:"text-2xl font-bold text-center flex-1",children:"Checkout"})]}),L&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[e.jsx(cs,{className:"text-red-500 mt-1 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-red-800",children:"There was a problem with your checkout"}),e.jsx("p",{className:"text-red-700 mt-1",children:L}),e.jsx("button",{onClick:()=>U(null),className:"mt-2 text-sm text-red-600 hover:text-red-800 font-medium",children:"Try again"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Le,{className:"text-xl text-amber-600 mr-2"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Shipping Address"})]}),e.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsx("label",{className:"block text-gray-700 mb-1",children:"Full Name*"}),e.jsx("input",{type:"text",name:"name",value:b.name,onChange:se,className:`w-full p-2 border rounded-lg ${g.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter your full name"}),g.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.name})]}),e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsx("label",{className:"block text-gray-700 mb-1",children:"Phone Number*"}),e.jsx("input",{type:"tel",name:"phone",value:b.phone,onChange:se,className:`w-full p-2 border rounded-lg ${g.phone?"border-red-500":"border-gray-300"}`,placeholder:"Enter your phone number"}),g.phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.phone})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 mb-1",children:"Street Address*"}),e.jsx("input",{type:"text",name:"street",value:b.street,onChange:se,className:`w-full p-2 border rounded-lg ${g.street?"border-red-500":"border-gray-300"}`,placeholder:"Enter your street address"}),g.street&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.street})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1",children:"City*"}),e.jsx("input",{type:"text",name:"city",value:b.city,onChange:se,className:`w-full p-2 border rounded-lg ${g.city?"border-red-500":"border-gray-300"}`,placeholder:"Enter your city"}),g.city&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.city})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1",children:"State*"}),e.jsx("input",{type:"text",name:"state",value:b.state,onChange:se,className:`w-full p-2 border rounded-lg ${g.state?"border-red-500":"border-gray-300"}`,placeholder:"Enter your state"}),g.state&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.state})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1",children:"PIN Code*"}),e.jsx("input",{type:"text",name:"pincode",value:b.pincode,onChange:se,className:`w-full p-2 border rounded-lg ${g.pincode?"border-red-500":"border-gray-300"}`,placeholder:"Enter your PIN code"}),g.pincode&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.pincode})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1",children:"Country"}),e.jsx("input",{type:"text",name:"country",value:b.country,onChange:se,className:"w-full p-2 border border-gray-300 rounded-lg",readOnly:!0})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:b.email,onChange:se,className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Enter your email"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 mb-1",children:"Order Notes (Optional)"}),e.jsx("textarea",{name:"notes",value:_,onChange:F=>Z(F.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"Notes about your order, e.g. special notes for delivery",rows:"3"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Qe,{className:"text-xl text-amber-600 mr-2"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Payment Method"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"cod",checked:h==="cod",onChange:()=>j("cod"),className:"mr-3"}),e.jsx(Gt,{className:"text-xl mr-3 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Cash on Delivery"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pay when you receive your order"})]})]}),e.jsxs("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"card",checked:h==="card",onChange:()=>j("card"),className:"mr-3"}),e.jsx(Or,{className:"text-xl mr-3 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Credit/Debit Card"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pay securely with your card"})]})]}),e.jsxs("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"upi",checked:h==="upi",onChange:()=>j("upi"),className:"mr-3"}),e.jsxs("div",{className:"flex space-x-1 mr-3",children:[e.jsx(Yt,{className:"text-xl text-green-600"}),e.jsx(Qt,{className:"text-xl text-purple-600"}),e.jsx(Kt,{className:"text-xl text-blue-600"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"UPI"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pay using UPI apps"})]})]}),e.jsxs("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"paymentMethod",value:"wallet",checked:h==="wallet",onChange:()=>j("wallet"),className:"mr-3"}),e.jsx(Vl,{className:"text-xl mr-3 text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Wallet"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pay using digital wallet"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Ue,{className:"text-xl text-amber-600 mr-2"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Shipping Method"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"shippingMethod",value:"standard",checked:q==="standard",onChange:()=>ee("standard"),className:"mr-3"}),e.jsx(X,{className:"text-xl mr-3 text-amber-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"font-medium",children:"Standard Shipping"}),e.jsx("p",{className:"font-medium",children:"50"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Delivery in 5-7 business days"})]})]}),e.jsxs("label",{className:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"radio",name:"shippingMethod",value:"express",checked:q==="express",onChange:()=>ee("express"),className:"mr-3"}),e.jsx(Ue,{className:"text-xl mr-3 text-green-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"font-medium",children:"Express Shipping"}),e.jsx("p",{className:"font-medium",children:"150"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Delivery in 1-3 business days"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 h-fit",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Order Summary"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[r," item",r!==1?"s":""]})]}),e.jsx("div",{className:"border-t border-b border-gray-200 py-4 mb-4",children:t.map((F,V)=>{var re,z,k,$,W,T;return e.jsxs("div",{className:"flex py-2",children:[e.jsx("div",{className:"w-16 h-16 rounded-md overflow-hidden bg-gray-100 mr-4",children:e.jsx("img",{src:((z=(re=F.product)==null?void 0:re.images)==null?void 0:z[0])||F.image||"/tribal-icon.svg",alt:((k=F.product)==null?void 0:k.name)||F.productName||"Product",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:(($=F.product)==null?void 0:$.name)||F.productName||"Product"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",F.quantity]}),e.jsxs("p",{className:"text-amber-600",children:["",((W=F.product)==null?void 0:W.price)??F.price]})]})]},((T=F.product)==null?void 0:T._id)||F.productId||V)})}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Subtotal:"}),e.jsxs("span",{children:["",s]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Shipping:"}),e.jsxs("span",{children:["",C]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Tax (18% GST):"}),e.jsxs("span",{children:["",O.toFixed(0)]})]}),q==="express"&&e.jsxs("div",{className:"flex justify-between items-center text-green-600",children:[e.jsx("span",{children:"Express Delivery:"}),e.jsx("span",{children:"+100"})]}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold border-t pt-2",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{className:"text-amber-600",children:["",P.toFixed(0)]})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx(Nt,{className:"text-amber-600 mr-2 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-700",children:["Your order will be delivered by ",e.jsx("span",{className:"font-medium",children:u})]}),q==="express"&&e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Express delivery selected!"})]})]})}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:le,disabled:x,className:"w-full bg-amber-600 hover:bg-amber-700 text-white py-3 px-4 rounded-lg font-medium flex items-center justify-center transition duration-300",children:x?e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"animate-spin mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["Place Order",e.jsx(Vt,{className:"ml-2"})]})})})]})]})]})})},Yl=()=>{var d;const t=Zt();be();const{clearCart:s}=He(),[r,a]=p.useState(!1),[n,i]=p.useState(!1),[l,m]=p.useState(""),[c,x]=p.useState(!1),o=(d=t.state)==null?void 0:d.orderDetails,u=(o==null?void 0:o.orderNumber)||(o==null?void 0:o.id)||(o==null?void 0:o._id);if(!o)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(It,{className:"text-2xl text-amber-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Order Information"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find any order details. Please try placing your order again."}),e.jsx(A,{to:"/checkout",className:"inline-block bg-amber-600 text-white py-2 px-6 rounded-lg font-medium hover:bg-amber-700 transition-colors",children:"Return to Checkout"})]})})});const y=()=>{i(!0)},b=()=>{i(!1),m("")},f=async()=>{var h;if(!u){S.error("Cannot cancel order: Order ID not found");return}if(!l){S.error("Please select a reason for cancellation");return}a(!0);try{const j=localStorage.getItem("token");if(j&&j.includes("demo")||o.isMockOrder){await new Promise(R=>setTimeout(R,800)),S.success("Order cancelled successfully"),x(!0),b();return}const w=await fr.cancelOrder(u,{reason:l});w.data&&w.data.success?(S.success("Order cancelled successfully"),x(!0),b()):S.error(((h=w.data)==null?void 0:h.message)||"Failed to cancel order")}catch(j){console.error("Error cancelling order:",j),S.error("Something went wrong. Please try again later.")}finally{a(!1)}},g=me.useRef(!1);return me.useEffect(()=>{!g.current&&s&&(g.current=!0,setTimeout(()=>{s()},300))},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 py-12",children:[e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8",children:c?e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(It,{className:"text-2xl text-red-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Cancelled"}),e.jsx("p",{className:"text-gray-600",children:"Your order has been cancelled successfully. The amount will be refunded to your original payment method."}),e.jsx(A,{to:"/",className:"mt-6 inline-block bg-amber-600 text-white py-2 px-6 rounded-lg font-medium hover:bg-amber-700 transition-colors",children:"Continue Shopping"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ds,{className:"text-2xl text-green-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Placed Successfully!"}),e.jsx("p",{className:"text-gray-600",children:"Thank you for your order. We'll send you a confirmation email shortly."})]}),e.jsxs("div",{className:"border-t border-b border-gray-200 py-4 my-6",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Order Number:"}),e.jsx("span",{className:"font-medium",children:u})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),e.jsxs("span",{className:"font-medium",children:["",o.total||o.totalAmount]})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),e.jsx("span",{className:"font-medium capitalize",children:o.paymentMethod||"Not specified"})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Order Status:"}),e.jsx("span",{className:"font-medium text-green-600",children:"Processing"})]}),o.estimatedDelivery&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Estimated Delivery:"}),e.jsx("span",{className:"font-medium",children:o.estimatedDelivery})]})]}),o.items&&o.items.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-3",children:"Order Items"}),e.jsx("div",{className:"space-y-3",children:o.items.map((h,j)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-gray-600",children:[h.quantity," x "]}),e.jsx("span",{className:"ml-2",children:h.productName||h.name||"Product"})]}),e.jsxs("span",{className:"font-medium",children:["",h.price*h.quantity]})]},j))})]}),e.jsxs("div",{className:"flex flex-col space-y-4 mt-8",children:[e.jsxs("button",{onClick:y,className:"w-full bg-red-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-red-700 transition-colors flex items-center justify-center",disabled:r,children:[e.jsx(It,{className:"mr-2"}),r?"Cancelling...":"Cancel Order"]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(A,{to:"/",className:"inline-block border border-amber-600 text-amber-600 py-2 px-6 rounded-lg font-medium hover:bg-amber-50 transition-colors",children:"Continue Shopping"}),e.jsx(A,{to:"/order-tracking",className:"px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700",children:"Track Order"})]})]})]})})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Cancel Order"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to cancel this order? This action cannot be undone."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Reason for cancellation:"}),e.jsxs("select",{value:l,onChange:h=>m(h.target.value),className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-amber-500",children:[e.jsx("option",{value:"",children:"Select a reason"}),e.jsx("option",{value:"Changed my mind",children:"Changed my mind"}),e.jsx("option",{value:"Found better price elsewhere",children:"Found better price elsewhere"}),e.jsx("option",{value:"Ordered by mistake",children:"Ordered by mistake"}),e.jsx("option",{value:"Shipping time too long",children:"Shipping time too long"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:b,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100",disabled:r,children:"Keep Order"}),e.jsx("button",{onClick:f,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",disabled:r,children:r?"Processing...":"Confirm Cancellation"})]})]})})]})},Kl=()=>{const{user:t,updateUserProfile:s}=G(),[r,a]=p.useState(!1),[n,i]=p.useState(!1),[l,m]=p.useState({name:"",email:"",phone:"",address:{street:"",city:"",state:"",postalCode:"",country:""}});p.useEffect(()=>{var o,u,y,b,f;t&&m({name:t.name||"",email:t.email||"",phone:t.phone||"",address:{street:((o=t.address)==null?void 0:o.street)||"",city:((u=t.address)==null?void 0:u.city)||"",state:((y=t.address)==null?void 0:y.state)||"",postalCode:((b=t.address)==null?void 0:b.postalCode)||"",country:((f=t.address)==null?void 0:f.country)||"India"}})},[t]);const c=o=>{const{name:u,value:y}=o.target;if(u.includes(".")){const[b,f]=u.split(".");m({...l,[b]:{...l[b],[f]:y}})}else m({...l,[u]:y})},x=async o=>{o.preventDefault(),i(!0);try{await s(l),S.success("Profile updated successfully"),a(!1)}catch(u){console.error("Error updating profile:",u),S.error("Failed to update profile")}finally{i(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-amber-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"My Profile"}),r?e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:x,disabled:n,className:"flex items-center text-white bg-green-600 hover:bg-green-700 px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",children:[e.jsx(kr,{className:"mr-2"}),"Save"]}),e.jsxs("button",{onClick:()=>a(!1),className:"flex items-center text-white bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-md text-sm font-medium",children:[e.jsx(Ce,{className:"mr-2"}),"Cancel"]})]}):e.jsxs("button",{onClick:()=>a(!0),className:"flex items-center text-white bg-amber-700 hover:bg-amber-800 px-4 py-2 rounded-md text-sm font-medium",children:[e.jsx(Sl,{className:"mr-2"}),"Edit Profile"]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ae,{className:"text-gray-400"})}),e.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:c,disabled:!r,className:`pl-10 block w-full rounded-md ${r?"border-gray-300":"border-gray-200 bg-gray-50"} focus:ring-amber-500 focus:border-amber-500`})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Te,{className:"text-gray-400"})}),e.jsx("input",{type:"email",id:"email",name:"email",value:l.email,onChange:c,disabled:!0,className:"pl-10 block w-full rounded-md border-gray-200 bg-gray-50 focus:ring-amber-500 focus:border-amber-500"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(nt,{className:"text-gray-400"})}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:l.phone,onChange:c,disabled:!r,className:`pl-10 block w-full rounded-md ${r?"border-gray-300":"border-gray-200 bg-gray-50"} focus:ring-amber-500 focus:border-amber-500`})]})]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"address.street",className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Le,{className:"text-gray-400"})}),e.jsx("input",{type:"text",id:"address.street",name:"address.street",value:l.address.street,onChange:c,disabled:!r,className:`pl-10 block w-full rounded-md ${r?"border-gray-300":"border-gray-200 bg-gray-50"} focus:ring-amber-500 focus:border-amber-500`})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address.city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),e.jsx("input",{type:"text",id:"address.city",name:"address.city",value:l.address.city,onChange:c,disabled:!r,className:`block w-full rounded-md ${r?"border-gray-300":"border-gray-200 bg-gray-50"} focus:ring-amber-500 focus:border-amber-500`})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address.state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),e.jsx("input",{type:"text",id:"address.state",name:"address.state",value:l.address.state,onChange:c,disabled:!r,className:`block w-full rounded-md ${r?"border-gray-300":"border-gray-200 bg-gray-50"} focus:ring-amber-500 focus:border-amber-500`})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address.postalCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),e.jsx("input",{type:"text",id:"address.postalCode",name:"address.postalCode",value:l.address.postalCode,onChange:c,disabled:!r,className:`block w-full rounded-md ${r?"border-gray-300":"border-gray-200 bg-gray-50"} focus:ring-amber-500 focus:border-amber-500`})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address.country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),e.jsx("input",{type:"text",id:"address.country",name:"address.country",value:l.address.country,onChange:c,disabled:!r,className:`block w-full rounded-md ${r?"border-gray-300":"border-gray-200 bg-gray-50"} focus:ring-amber-500 focus:border-amber-500`})]})]})]})]}),r&&e.jsx("div",{className:"mt-8 text-right md:hidden",children:e.jsx("button",{type:"submit",disabled:n,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 disabled:opacity-50",children:n?"Saving...":"Save Changes"})})]})})]})})})},Ms=()=>{var f;const{orderId:t}=Xt(),[s,r]=p.useState(t||""),[a,n]=p.useState(null),[i,l]=p.useState(!1),{isAuthenticated:m}=G(),c=be(),x=[{id:"confirmed",label:"Order Confirmed",icon:ds,date:"2023-06-10",completed:!0},{id:"packed",label:"Order Packed",icon:X,date:"2023-06-11",completed:!0},{id:"shipped",label:"Order Shipped",icon:Ue,date:"2023-06-12",completed:!0},{id:"out_for_delivery",label:"Out for Delivery",icon:Ue,date:"2023-06-14",completed:!1},{id:"delivered",label:"Delivered",icon:Le,date:"2023-06-15",completed:!1}],o={id:"ORD-123456",date:"2023-06-10",status:"shipped",items:[{id:1,name:"Handcrafted Tribal Necklace",price:1200,quantity:1,image:"https://via.placeholder.com/80"},{id:2,name:"Bamboo Craft Basket",price:850,quantity:2,image:"https://via.placeholder.com/80"}],shippingAddress:{name:"Rahul Sharma",street:"123 Main Street",city:"Bangalore",state:"Karnataka",pincode:"560001",country:"India"},trackingNumber:"TRK-987654321",carrier:"Express Logistics",estimatedDelivery:"2023-06-15",total:2900,shippingCost:100,tax:522,finalTotal:3522};p.useEffect(()=>{t&&u(t)},[t]);const u=async g=>{if(!g.trim()){S.error("Please enter a valid order ID");return}l(!0);try{setTimeout(()=>{n(o),l(!1)},1e3)}catch(d){console.error("Error tracking order:",d),S.error("Failed to track order. Please check the order ID and try again."),l(!1)}},y=g=>{g.preventDefault(),u(s)},b=()=>{if(!a)return null;const g=x.findIndex(d=>d.id===a.status);return g!==-1?g:0};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(A,{to:"/",className:"flex items-center text-amber-600 hover:text-amber-700",children:[e.jsx(he,{className:"mr-2"})," Back to Home"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mt-4",children:"Order Tracking"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Track your order status and estimated delivery date"})]}),!a&&e.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-6 mb-8",children:e.jsxs("form",{onSubmit:y,className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("label",{htmlFor:"trackingId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Order ID"}),e.jsx("input",{type:"text",id:"trackingId",value:s,onChange:g=>r(g.target.value),placeholder:"Enter your order ID (e.g., ORD-123456)",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-amber-500 focus:border-amber-500",required:!0})]}),e.jsx("div",{className:"self-end",children:e.jsx("button",{type:"submit",disabled:i,className:"w-full md:w-auto px-6 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 flex items-center justify-center",children:i?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Tracking..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(it,{className:"mr-2"}),"Track Order"]})})})]})}),a&&e.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Order #",a.id]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Placed on ",a.date]})]}),e.jsx("div",{className:"mt-2 md:mt-0",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800",children:((f=x.find(g=>g.id===a.status))==null?void 0:f.label)||"Processing"})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"md:w-1/2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Shipping Address"}),e.jsxs("address",{className:"text-sm text-gray-600 not-italic",children:[e.jsx("p",{children:a.shippingAddress.name}),e.jsx("p",{children:a.shippingAddress.street}),e.jsxs("p",{children:[a.shippingAddress.city,", ",a.shippingAddress.state," ",a.shippingAddress.pincode]}),e.jsx("p",{children:a.shippingAddress.country})]})]}),e.jsxs("div",{className:"md:w-1/2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Shipping Information"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Carrier:"})," ",a.carrier]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Tracking Number:"})," ",a.trackingNumber]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Estimated Delivery:"})," ",a.estimatedDelivery]})]})]})]})]}),e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tracking Status"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-200"}),x.map((g,d)=>{const h=b(),j=d<=h,v=d===h;return e.jsxs("div",{className:"relative flex items-start mb-6 last:mb-0",children:[e.jsx("div",{className:`absolute left-8 -ml-3.5 mt-1.5 w-7 h-7 rounded-full flex items-center justify-center ${j?"bg-green-500":"bg-gray-300"} ${v?"ring-4 ring-green-100":""}`,children:e.jsx(g.icon,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"ml-12",children:[e.jsx("h4",{className:`text-sm font-medium ${j?"text-gray-900":"text-gray-500"}`,children:g.label}),e.jsx("p",{className:`text-xs ${j?"text-gray-600":"text-gray-400"}`,children:j?g.date:"Pending"}),v&&e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Current Status"})]})]},g.id)})]})]}),e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Items"}),e.jsx("div",{className:"space-y-4",children:a.items.map(g=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-20 w-20 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:e.jsx("img",{src:g.image,alt:g.name,className:"h-full w-full object-cover object-center"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:g.name}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Qty: ",g.quantity]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",g.price.toLocaleString()]}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["",(g.price*g.quantity).toLocaleString()]})]})]},g.id))})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("p",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("p",{className:"text-gray-900 font-medium",children:["",a.total.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("p",{className:"text-gray-600",children:"Shipping"}),e.jsxs("p",{className:"text-gray-900 font-medium",children:["",a.shippingCost.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("p",{className:"text-gray-600",children:"Tax"}),e.jsxs("p",{className:"text-gray-900 font-medium",children:["",a.tax.toLocaleString()]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between text-base",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Total"}),e.jsxs("p",{className:"font-bold text-gray-900",children:["",a.finalTotal.toLocaleString()]})]})})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 flex justify-between",children:[e.jsxs("button",{onClick:()=>n(null),className:"text-amber-600 hover:text-amber-700 font-medium flex items-center",children:[e.jsx(he,{className:"mr-2"})," Track Another Order"]}),m&&e.jsx("button",{onClick:()=>c("/account/orders"),className:"text-amber-600 hover:text-amber-700 font-medium",children:"View All Orders"})]})]})]})})},Ql=()=>{var h;const t=Zt(),s=(h=t.state)==null?void 0:h.order,r=[{id:"ORD-123456",date:"2023-06-15",total:2499,status:"Processing",items:[{id:1,name:"Handcrafted Pottery Bowl",price:899,quantity:1,image:"https://via.placeholder.com/80"},{id:2,name:"Tribal Pattern Scarf",price:1600,quantity:1,image:"https://via.placeholder.com/80"}]},{id:"ORD-789012",date:"2023-06-10",total:3299,status:"Shipped",items:[{id:3,name:"Wooden Tribal Mask",price:1999,quantity:1,image:"https://via.placeholder.com/80"},{id:4,name:"Handwoven Basket",price:1300,quantity:1,image:"https://via.placeholder.com/80"}]},{id:"ORD-345678",date:"2023-06-05",total:4599,status:"Delivered",items:[{id:5,name:"Tribal Jewelry Set",price:2599,quantity:1,image:"https://via.placeholder.com/80"},{id:6,name:"Handmade Leather Bag",price:2e3,quantity:1,image:"https://via.placeholder.com/80"}]}],[a,n]=p.useState(r);p.useEffect(()=>{var j;s&&(n(v=>[s,...v]),(j=t.state)!=null&&j.showCancelOption&&(o(s.id),c(!0)))},[s]);const[i,l]=p.useState([]),[m,c]=p.useState(!1),[x,o]=p.useState(null),[u,y]=p.useState(""),[b,f]=p.useState(!1),g=j=>{o(j),c(!0)},d=()=>{if(!u){alert("Please provide a reason for cancellation");return}const j=a.find(v=>v.id===x);n(a.filter(v=>v.id!==x)),l([...i,{...j,status:"Cancelled",cancelReason:u,cancelDate:new Date().toISOString().split("T")[0]}]),c(!1),f(!0),setTimeout(()=>{f(!1)},3e3)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 py-12",children:[e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsxs(A,{to:"/",className:"flex items-center text-amber-600 hover:text-amber-700",children:[e.jsx(he,{className:"mr-2"}),"Back to Home"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 ml-auto mr-auto",children:"Demo Order Management"})]}),b&&e.jsxs("div",{className:"bg-green-100 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6 flex items-center",children:[e.jsx(ds,{className:"text-green-500 mr-2"}),"Order has been successfully cancelled"]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Active Orders"}),a.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No active orders found"}):e.jsx("div",{className:"space-y-6",children:a.map(j=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium",children:["Order #",j.id]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Placed on ",j.date]})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${j.status==="Processing"?"bg-blue-100 text-blue-800":j.status==="Shipped"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:j.status})})]}),e.jsx("div",{className:"space-y-3 mb-4",children:j.items.map(v=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:v.image,alt:v.name,className:"w-16 h-16 object-cover rounded-md mr-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:v.name}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Quantity: ",v.quantity]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-medium",children:["",v.price]})})]},v.id))}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t",children:[e.jsxs("div",{className:"font-medium",children:["Total: ",j.total]}),e.jsx("button",{onClick:()=>g(j.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Cancel Order"})]})]},j.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Cancelled Orders"}),i.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No cancelled orders found"}):e.jsx("div",{className:"space-y-6",children:i.map(j=>e.jsxs("div",{className:"border rounded-lg p-4 border-red-200 bg-red-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium",children:["Order #",j.id]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Placed on ",j.date]}),e.jsxs("p",{className:"text-sm text-red-600",children:["Cancelled on ",j.cancelDate]})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:"Cancelled"})})]}),e.jsx("div",{className:"space-y-3 mb-4",children:j.items.map(v=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:v.image,alt:v.name,className:"w-16 h-16 object-cover rounded-md mr-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:v.name}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Quantity: ",v.quantity]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-medium",children:["",v.price]})})]},v.id))}),e.jsxs("div",{className:"pt-3 border-t",children:[e.jsxs("div",{className:"font-medium mb-2",children:["Total: ",j.total]}),e.jsxs("div",{className:"bg-red-100 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"Cancellation Reason:"}),e.jsx("p",{className:"text-sm text-red-700",children:j.cancelReason})]})]})]},j.id))})]})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(cs,{className:"text-red-500 text-xl mr-2"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Cancel Order"})]}),e.jsx("p",{className:"mb-4",children:"Are you sure you want to cancel this order? This action cannot be undone."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Reason for cancellation"}),e.jsxs("select",{value:u,onChange:j=>y(j.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"Select a reason"}),e.jsx("option",{value:"Changed my mind",children:"Changed my mind"}),e.jsx("option",{value:"Found a better price elsewhere",children:"Found a better price elsewhere"}),e.jsx("option",{value:"Ordered by mistake",children:"Ordered by mistake"}),e.jsx("option",{value:"Shipping takes too long",children:"Shipping takes too long"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors",children:"Keep Order"}),e.jsx("button",{onClick:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Cancel Order"})]})]})})]})},Xl=()=>{const{user:t}=G(),[s,r]=p.useState({totalOrders:0,wishlistItems:0,totalSpent:0,rewardPoints:0}),[a,n]=p.useState([]),[i,l]=p.useState([]),[m,c]=p.useState([]),[x,o]=p.useState([]),[u,y]=p.useState(0);p.useEffect(()=>{b()},[]);const b=async()=>{try{r({totalOrders:12,wishlistItems:8,totalSpent:25e3,rewardPoints:250}),n([{id:"ORD001",product:"Tribal Beaded Necklace",amount:3799,status:"Delivered",date:"2024-01-15",seller:"Rajasthani Handicrafts"},{id:"ORD002",product:"Handwoven Tribal Rug",amount:7499,status:"Shipped",date:"2024-01-14",seller:"Weaving Traditions"},{id:"ORD003",product:"Ceramic Tribal Bowl",amount:2699,status:"Processing",date:"2024-01-13",seller:"Clay Masters"}]),l([{id:1,name:"Wooden Tribal Mask",price:9999,seller:"Carved Heritage"},{id:2,name:"Silver Tribal Bracelet",price:5499,seller:"Metal Crafts"},{id:3,name:"Embroidered Tribal Bag",price:3299,seller:"Textile Arts"}]),c([{id:1,name:"Tribal Wall Art",price:4599,rating:4.8},{id:2,name:"Handmade Tribal Earrings",price:1899,rating:4.6},{id:3,name:"Traditional Tribal Scarf",price:2799,rating:4.7}]);try{const h=localStorage.getItem("token"),j=await ie.get("/api/demo/cart",{headers:{Authorization:`Bearer ${h}`}});j.data&&j.data.success&&(o(j.data.cart.items||[]),y(j.data.cart.totalAmount||0))}catch(h){console.error("Error fetching cart data:",h),o([{product:{_id:"p1",name:"Tribal Pottery Set",price:3499,images:["https://images.unsplash.com/photo-1578749556568-bc2c40e68b61?w=800&h=600&fit=crop"]},quantity:1},{product:{_id:"p2",name:"Handcrafted Wooden Flute",price:1299,images:["https://images.unsplash.com/photo-1520523839897-bd0b52f945a0?w=800&h=600&fit=crop"]},quantity:2}]),y(6097)}}catch(h){console.error("Error fetching dashboard data:",h)}},f=[{title:"Browse Products",description:"Discover new tribal crafts",icon:X,link:"/products",color:"bg-blue-500"},{title:"My Orders",description:"Track your orders",icon:oe,link:"/orders",color:"bg-green-500"},{title:"Wishlist",description:"View saved items",icon:je,link:"/wishlist",color:"bg-red-500"},{title:"Profile Settings",description:"Update your profile",icon:Ae,link:"/profile",color:"bg-purple-500"}],g=h=>{switch(h){case"Delivered":return"bg-green-100 text-green-800";case"Shipped":return"bg-blue-100 text-blue-800";case"Processing":return"bg-yellow-100 text-yellow-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=h=>{switch(h){case"Delivered":return e.jsx(X,{className:"w-4 h-4"});case"Shipped":return e.jsx(Ue,{className:"w-4 h-4"});case"Processing":return e.jsx(Qe,{className:"w-4 h-4"});default:return e.jsx(X,{className:"w-4 h-4"})}};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Buyer Dashboard"}),e.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",t==null?void 0:t.name,"! Here's what's happening with your orders."]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"The Buyer Dashboard is a user-friendly interface for you to browse and purchase products on the platform. It allows you to view personalized recommendations, search and filter products by categories, add items to your cart, and securely complete payments. After placing an order, you can easily track delivery status, view order history, and request returns or support if needed. The dashboard also offers features for saving favorite items, writing product reviews, and receiving promotional notifications."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalOrders})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(je,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Wishlist Items"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.wishlistItems})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Qe,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Spent"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",s.totalSpent.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(ve,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Reward Points"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.rewardPoints})]})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((h,j)=>e.jsxs(A,{to:h.link,className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:`p-3 ${h.color} rounded-lg w-fit mb-4`,children:e.jsx(h.icon,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:h.title}),e.jsx("p",{className:"text-sm text-gray-600",children:h.description})]},j))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow mb-8",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Cart"}),e.jsx(A,{to:"/cart",className:"text-blue-600 hover:text-blue-700 text-sm",children:"View All"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"space-y-4",children:x.length>0?x.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-16 w-16 rounded-md overflow-hidden",children:h.product.images&&h.product.images.length>0?e.jsx("img",{src:h.product.images[0],alt:h.product.name,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full bg-gray-200 flex items-center justify-center",children:e.jsx(hs,{className:"h-8 w-8 text-gray-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:h.product.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Qty: ",h.quantity]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-medium text-gray-900",children:["",(h.product.price*h.quantity).toLocaleString()]})})]},h.product._id)):e.jsx("div",{className:"text-center text-gray-500",children:"Your cart is empty."})}),x.length>0&&e.jsxs("div",{className:"mt-4 flex justify-between items-center pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:["Total: ",u.toLocaleString()]}),e.jsx(A,{to:"/checkout",className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:"Checkout"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"}),e.jsx(A,{to:"/orders",className:"text-blue-600 hover:text-blue-700 text-sm",children:"View All"})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:a.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${g(h.status).replace("text-","bg-").replace("-800","-100")}`,children:d(h.status)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:["#",h.id]}),e.jsx("p",{className:"text-sm text-gray-600",children:h.product}),e.jsxs("p",{className:"text-xs text-gray-500",children:["by ",h.seller]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["",h.amount]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g(h.status)}`,children:h.status})]})]},h.id))})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Wishlist"}),e.jsx(A,{to:"/wishlist",className:"text-blue-600 hover:text-blue-700 text-sm",children:"View All"})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:i.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:h.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["by ",h.seller]}),e.jsxs("p",{className:"text-sm font-medium text-amber-600",children:["",h.price]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:e.jsx(je,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-1 bg-amber-600 text-white text-sm rounded-lg hover:bg-amber-700",children:"Add to Cart"})]})]},h.id))})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recommended for You"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:m.map(h=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"h-32 bg-gradient-to-br from-amber-100 to-orange-100 rounded-lg mb-4 flex items-center justify-center",children:e.jsx(X,{className:"w-12 h-12 text-amber-600"})}),e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:h.name}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-lg font-bold text-amber-600",children:["",h.price]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ve,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm text-gray-600 ml-1",children:h.rating})]})]}),e.jsx("button",{className:"w-full mt-3 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:"View Product"})]},h.id))})})]})]})})},Zl=()=>{const{user:t}=G(),[s,r]=p.useState({totalProducts:0,totalOrders:0,totalEarnings:0,pendingOrders:0}),[a,n]=p.useState([]),[i,l]=p.useState([]);p.useEffect(()=>{m()},[]);const m=async()=>{try{r({totalProducts:24,totalOrders:156,totalEarnings:45e3,pendingOrders:8}),n([{id:1,name:"Tribal Beaded Necklace",price:3799,status:"Active",views:245},{id:2,name:"Handwoven Rug",price:7499,status:"Active",views:189},{id:3,name:"Ceramic Bowl",price:2699,status:"Pending",views:67}]),l([{id:"ORD001",product:"Tribal Necklace",amount:3799,status:"Shipped",date:"2024-01-15"},{id:"ORD002",product:"Handwoven Rug",amount:7499,status:"Processing",date:"2024-01-14"},{id:"ORD003",product:"Ceramic Bowl",amount:2699,status:"Delivered",date:"2024-01-13"}])}catch(o){console.error("Error fetching dashboard data:",o)}},c=[{title:"Add New Product",description:"List a new product for sale",icon:lt,link:"/seller/products/add",color:"bg-green-500"},{title:"Manage Products",description:"View and edit your products",icon:X,link:"/seller/products",color:"bg-blue-500"},{title:"View Orders",description:"Manage your orders",icon:oe,link:"/seller/orders",color:"bg-purple-500"},{title:"Earnings Report",description:"View your earnings",icon:vr,link:"/seller/earnings",color:"bg-orange-500"}],x=o=>{switch(o){case"Active":return"bg-green-100 text-green-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Shipped":return"bg-blue-100 text-blue-800";case"Processing":return"bg-purple-100 text-purple-800";case"Delivered":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Seller Dashboard"}),e.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",t==null?void 0:t.name,"! Here's what's happening with your shop."]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"The Seller Dashboard is designed specifically for tribal artisans and product sellers, allowing you to manage your digital shop easily. From here, you can add new products by uploading images, setting prices, and writing descriptions. You can also track inventory, update product details, and respond to customer reviews. The dashboard provides real-time insights about orders received, pending shipments, delivered orders, and earnings. It helps you efficiently manage your business, maintain product quality, and engage directly with customers without intermediaries, thus ensuring fair income and autonomy."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(X,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalProducts})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalOrders})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(ms,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Earnings"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",s.totalEarnings.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Cr,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.pendingOrders})]})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((o,u)=>e.jsxs(A,{to:o.link,className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:`p-3 ${o.color} rounded-lg w-fit mb-4`,children:e.jsx(o.icon,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:o.title}),e.jsx("p",{className:"text-sm text-gray-600",children:o.description})]},u))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Products"}),e.jsx(A,{to:"/seller/products",className:"text-blue-600 hover:text-blue-700 text-sm",children:"View All"})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:a.map(o=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:o.name}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["",o.price]}),e.jsxs("span",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Re,{className:"w-4 h-4 mr-1"}),o.views," views"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x(o.status)}`,children:o.status}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:e.jsx(xs,{className:"w-4 h-4"})})]})]},o.id))})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"}),e.jsx(A,{to:"/seller/orders",className:"text-blue-600 hover:text-blue-700 text-sm",children:"View All"})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:i.map(o=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:["#",o.id]}),e.jsx("p",{className:"text-sm text-gray-600",children:o.product}),e.jsx("p",{className:"text-xs text-gray-500",children:o.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["",o.amount]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x(o.status)}`,children:o.status})]})]},o.id))})})]})]})]})})},ei=()=>{const{user:t}=G(),[s,r]=p.useState({totalUsers:0,totalProducts:0,totalOrders:0,totalRevenue:0,pendingApprovals:0,activeArtisans:0});p.useEffect(()=>{a()},[]);const a=async()=>{try{const l=await de.get("/api/admin/dashboard");l.data.success?r(l.data.stats):console.error("Error fetching stats:",l.data.message)}catch(l){console.error("Error fetching stats:",l)}},n=[{title:"Manage Products",description:"View and manage all products",icon:X,link:"/admin/products",color:"bg-blue-500"},{title:"User Management",description:"Manage users and permissions",icon:$e,link:"/admin/users",color:"bg-green-500"},{title:"Order Management",description:"Track and manage orders",icon:oe,link:"/admin/orders",color:"bg-purple-500"},{title:"Analytics",description:"View detailed analytics",icon:vr,link:"/admin/analytics",color:"bg-orange-500"}],i=[{id:1,action:"New artisan registration",user:"Ravi Kumar",time:"2 hours ago"},{id:2,action:"Product approval needed",user:"Priya Crafts",time:"4 hours ago"},{id:3,action:"Order dispute raised",user:"Customer #1234",time:"6 hours ago"},{id:4,action:"Payment processed",user:"System",time:"8 hours ago"}];return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),e.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",t==null?void 0:t.name,"! Here's what's happening with your marketplace."]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"The Admin Dashboard is the control center of the Tribal Marketplace platform, where you manage and oversee the entire system. From here, you can verify and approve seller accounts, manage product listings, monitor orders, and ensure that only authentic tribal products are showcased. You also have access to platform analytics, including total users, sales reports, top-selling products, and active orders. Additionally, you can create discount offers, manage categories, and handle any disputes or complaints raised by buyers or sellers."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx($e,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalUsers.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(X,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalProducts.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalOrders.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(ms,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",s.totalRevenue.toLocaleString()]})]})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((l,m)=>e.jsxs(A,{to:l.link,className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:`p-3 ${l.color} rounded-lg w-fit mb-4`,children:e.jsx(l.icon,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:l.title}),e.jsx("p",{className:"text-sm text-gray-600",children:l.description})]},m))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pending Approvals"}),e.jsx("span",{className:"bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:s.pendingApprovals})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pr,{className:"w-5 h-5 text-yellow-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Artisan Applications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"15 pending reviews"})]})]}),e.jsx("button",{className:"text-yellow-600 hover:text-yellow-700",children:"Review"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"w-5 h-5 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Product Approvals"}),e.jsx("p",{className:"text-sm text-gray-600",children:"8 products waiting"})]})]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700",children:"Review"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activities"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:i.map(l=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.action}),e.jsxs("p",{className:"text-sm text-gray-600",children:[l.user,"  ",l.time]})]})]},l.id))})})]})]})]})})},ti=()=>{const{user:t}=G(),[s,r]=p.useState({totalProducts:0,totalOrders:0,totalEarnings:0,pendingOrders:0}),[a,n]=p.useState([]),[i,l]=p.useState([]),[m,c]=p.useState({});p.useEffect(()=>{r({totalProducts:2,totalOrders:12,totalEarnings:45e3,pendingOrders:2}),n([{id:1,name:"Handcrafted Rajasthani Pottery Bowl",price:2699,stock:15,status:"active",category:"Handicrafts"},{id:2,name:"Traditional Beaded Necklace",price:3799,stock:8,status:"active",category:"Jewelry"}]),l([{id:"ORD-001",customerName:"Priya Sharma",product:"Handcrafted Pottery Bowl",amount:2699,status:"pending",date:"2024-01-15"},{id:"ORD-002",customerName:"Rahul Kumar",product:"Traditional Beaded Necklace",amount:3799,status:"shipped",date:"2024-01-14"}]),c({profileCompleted:!0,trainingCompleted:!0,firstProductListed:!0,imagingSupport:!0})},[]);const x=u=>{switch(u){case"active":return"bg-green-100 text-green-800";case"out_of_stock":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"shipped":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},o=()=>{const u=Object.values(m).filter(Boolean).length,y=Object.keys(m).length;return Math.round(u/y*100)};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Artisan Dashboard"}),e.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",t==null?void 0:t.name,"! Manage your handcrafted products and grow your business"]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 rounded-xl shadow-sm p-6 mb-8 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Onboarding Progress"}),e.jsx("p",{className:"text-amber-100",children:"Complete your setup to maximize your success"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-3xl font-bold",children:[o(),"%"]}),e.jsx("div",{className:"text-amber-100",children:"Complete"})]})]}),e.jsx("div",{className:"mt-4 bg-white bg-opacity-20 rounded-full h-2",children:e.jsx("div",{className:"bg-white rounded-full h-2 transition-all duration-300",style:{width:`${o()}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(X,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalProducts})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalOrders})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:e.jsx(ms,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Earnings"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",s.totalEarnings.toLocaleString()]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(Cr,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.pendingOrders})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"My Products"}),e.jsxs(A,{to:"/artisan/products/new",className:"btn btn-primary flex items-center space-x-2",children:[e.jsx(lt,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Product"})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"space-y-4",children:a.map(u=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:u.name}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["",u.price]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Stock: ",u.stock]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x(u.status)}`,children:u.status.replace("_"," ")})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",children:e.jsx(Re,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-green-600 transition-colors",children:e.jsx(xs,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-red-600 transition-colors",children:e.jsx(Tt,{className:"w-4 h-4"})})]})]},u.id))}),e.jsx("div",{className:"mt-6",children:e.jsx(A,{to:"/artisan/products",className:"text-amber-600 hover:text-amber-700 font-medium",children:"View All Products "})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Orders"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"space-y-4",children:i.map(u=>e.jsx("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("h3",{className:"font-medium text-gray-900",children:["#",u.id]}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["",u.amount]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:u.product}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["by ",u.customerName]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x(u.status)}`,children:u.status})]})]})},u.id))}),e.jsx("div",{className:"mt-6",children:e.jsx(A,{to:"/artisan/orders",className:"text-amber-600 hover:text-amber-700 font-medium",children:"View All Orders "})})]})]})]}),e.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Support & Training"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(A,{to:"/artisan/training",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-amber-300 hover:bg-amber-50 transition-colors",children:[e.jsx(wl,{className:"w-6 h-6 text-amber-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Training Modules"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Learn selling tips"})]})]}),e.jsxs(A,{to:"/artisan/photography",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-amber-300 hover:bg-amber-50 transition-colors",children:[e.jsx(kl,{className:"w-6 h-6 text-amber-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Photography Help"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Product imaging tips"})]})]}),e.jsxs(A,{to:"/artisan/manager",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-amber-300 hover:bg-amber-50 transition-colors",children:[e.jsx(Ae,{className:"w-6 h-6 text-amber-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Account Manager"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get personal support"})]})]}),e.jsxs(A,{to:"/artisan/achievements",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-amber-300 hover:bg-amber-50 transition-colors",children:[e.jsx(Nr,{className:"w-6 h-6 text-amber-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"Achievements"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Track your progress"})]})]})]})]})]})})},si={en:{"Access Denied":"Access Denied","You need admin privileges to access this page.":"You need admin privileges to access this page.","Product Management":"Product Management","Manage all products in the marketplace":"Manage all products in the marketplace","Add Product":"Add Product","All Categories":"All Categories","No products found":"No products found","Try adjusting your search or filter criteria.":"Try adjusting your search or filter criteria.","Edit Product":"Edit Product","Add New Product":"Add New Product","Product Name":"Product Name",Category:"Category",Description:"Description",Price:"Price","Stock Quantity":"Stock Quantity",Tags:"Tags",Specifications:"Specifications",Material:"Material",Dimensions:"Dimensions",Weight:"Weight",Origin:"Origin","Care Instructions":"Care Instructions",Cancel:"Cancel","Create Product":"Create Product","Update Product":"Update Product"}},Ie=(t,s="en")=>{var r;return((r=si[s])==null?void 0:r[t])||t},_t=()=>{const{user:t,token:s}=G(),[r,a]=p.useState([]),[n,i]=p.useState(!0),[l,m]=p.useState(""),[c,x]=p.useState(""),[o,u]=p.useState(!1),[y,b]=p.useState(!1),[f,g]=p.useState(null),[d,h]=p.useState({name:"",description:"",price:"",category:"",specifications:{material:"",dimensions:"",weight:"",care:"",origin:""},stock:"",tags:""}),j="http://localhost:5000/api",v=["Jewelry","Textiles","Pottery","Woodwork","Metalwork","Paintings","Sculptures","Other"];p.useEffect(()=>{w()},[]);const w=async()=>{try{i(!0);const C=await ie.get(`${j}/products`,{headers:{Authorization:`Bearer ${s}`}});a(C.data.products||[])}catch(C){console.error("Error fetching products:",C),S.error("Failed to fetch products"),a([{id:"1",name:"Tribal Beaded Necklace",description:"Handcrafted beaded necklace from indigenous artisans",price:45.99,category:"Jewelry",artisanName:"Tribal Crafts Co.",stock:15,ratings:{average:4.5,count:12},createdAt:new Date().toISOString()},{id:"2",name:"Handwoven Tribal Rug",description:"Traditional handwoven rug with tribal patterns",price:89.99,category:"Textiles",artisanName:"Weaving Traditions",stock:8,ratings:{average:4.8,count:25},createdAt:new Date().toISOString()}])}finally{i(!1)}},R=C=>{const{name:O,value:P}=C.target;if(O.startsWith("specifications.")){const L=O.split(".")[1];h(U=>({...U,specifications:{...U.specifications,[L]:P}}))}else h(L=>({...L,[O]:P}))},H=async C=>{var O,P;C.preventDefault();try{const L={...d,price:parseFloat(d.price),stock:parseInt(d.stock),tags:d.tags.split(",").map(U=>U.trim()).filter(U=>U)};f?(await ie.put(`${j}/products/${f.id}`,L,{headers:{Authorization:`Bearer ${s}`}}),S.success("Product updated successfully"),b(!1)):(await ie.post(`${j}/products`,L,{headers:{Authorization:`Bearer ${s}`}}),S.success("Product created successfully"),u(!1)),w(),q()}catch(L){console.error("Error saving product:",L),S.error(((P=(O=L.response)==null?void 0:O.data)==null?void 0:P.message)||"Failed to save product")}},_=C=>{var O,P;g(C),h({name:C.name,description:C.description,price:C.price.toString(),category:C.category,specifications:C.specifications||{material:"",dimensions:"",weight:"",care:"",origin:""},stock:((O=C.stock)==null?void 0:O.toString())||"0",tags:((P=C.tags)==null?void 0:P.join(", "))||""}),b(!0)},Z=async C=>{if(window.confirm("Are you sure you want to delete this product?"))try{await ie.delete(`${j}/products/${C}`,{headers:{Authorization:`Bearer ${s}`}}),S.success("Product deleted successfully"),w()}catch(O){console.error("Error deleting product:",O),S.error("Failed to delete product")}},q=()=>{h({name:"",description:"",price:"",category:"",specifications:{material:"",dimensions:"",weight:"",care:"",origin:""},stock:"",tags:""}),g(null)},ee=r.filter(C=>{var L;const O=C.name.toLowerCase().includes(l.toLowerCase())||C.description.toLowerCase().includes(l.toLowerCase())||((L=C.artisanName)==null?void 0:L.toLowerCase().includes(l.toLowerCase())),P=!c||C.category===c;return O&&P});return!t||t.role!=="admin"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:Ie("Access Denied")}),e.jsx("p",{className:"text-gray-600",children:Ie("You need admin privileges to access this page.")})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:Ie("Product Management")}),e.jsx("p",{className:"text-gray-600",children:Ie("Manage all products in the marketplace")})]}),e.jsxs("button",{onClick:()=>{q(),u(!0)},className:"mt-4 md:mt-0 bg-amber-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-amber-700 transition-colors flex items-center space-x-2",children:[e.jsx(lt,{className:"w-5 h-5"}),e.jsx("span",{children:Ie("Add Product")})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products, descriptions, or artisans...",value:l,onChange:C=>m(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-gray-400"}),e.jsxs("select",{value:c,onChange:C=>x(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:Ie("All Categories")}),v.map(C=>e.jsx("option",{value:C,children:C},C))]})]})]})}),n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ee.map(C=>e.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"h-32 bg-gray-200 relative flex items-center justify-center",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(X,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("span",{className:"text-sm text-gray-500",children:C.category})]}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C.stock>10?"bg-green-100 text-green-800":C.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Stock: ",C.stock||0]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:C.name}),e.jsxs("span",{className:"text-lg font-bold text-amber-600",children:["",C.price]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:C.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ae,{className:"w-4 h-4 mr-1"}),C.artisanName]}),e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:C.category})]}),C.ratings&&e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(ve,{className:"w-4 h-4 text-yellow-400 mr-1"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[C.ratings.average," (",C.ratings.count," reviews)"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[e.jsx(Ke,{className:"w-3 h-3 inline mr-1"}),new Date(C.createdAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>_(C),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(xs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Z(C.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(Tt,{className:"w-4 h-4"})})]})]})]})]},C.id))}),ee.length===0&&!n&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(X,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]}),e.jsx(es,{children:(o||y)&&e.jsxs(e.Fragment,{children:[e.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>{u(!1),b(!1),q()}}),e.jsx(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:f?"Edit Product":"Add New Product"}),e.jsx("button",{onClick:()=>{u(!1),b(!1),q()},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Ce,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:H,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),e.jsx("input",{type:"text",name:"name",value:d.name,onChange:R,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{name:"category",value:d.category,onChange:R,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Category"}),v.map(C=>e.jsx("option",{value:C,children:C},C))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{name:"description",value:d.description,onChange:R,required:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price () *"}),e.jsx("input",{type:"number",name:"price",value:d.price,onChange:R,required:!0,min:"0",step:"1",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),e.jsx("input",{type:"number",name:"stock",value:d.stock,onChange:R,required:!0,min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),e.jsx("input",{type:"text",name:"tags",value:d.tags,onChange:R,placeholder:"handmade, traditional, tribal",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Specifications"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material"}),e.jsx("input",{type:"text",name:"specifications.material",value:d.specifications.material,onChange:R,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dimensions"}),e.jsx("input",{type:"text",name:"specifications.dimensions",value:d.specifications.dimensions,onChange:R,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight"}),e.jsx("input",{type:"text",name:"specifications.weight",value:d.specifications.weight,onChange:R,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Origin"}),e.jsx("input",{type:"text",name:"specifications.origin",value:d.specifications.origin,onChange:R,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Care Instructions"}),e.jsx("textarea",{name:"specifications.care",value:d.specifications.care,onChange:R,rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>{u(!1),b(!1),q()},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-6 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors flex items-center space-x-2",children:[e.jsx(kr,{className:"w-4 h-4"}),e.jsx("span",{children:f?"Update Product":"Create Product"})]})]})]})]})})})]})})]})})},ri=()=>{var C,O;const{user:t,token:s}=G(),[r,a]=p.useState([]),[n,i]=p.useState(!0),[l,m]=p.useState(""),[c,x]=p.useState(""),[o,u]=p.useState(""),[y,b]=p.useState(1),[f,g]=p.useState(1),[d,h]=p.useState(!1),[j,v]=p.useState(null),w="http://localhost:5000/api";p.useEffect(()=>{R()},[y,c,o]);const R=async()=>{var P;try{i(!0);const L=new URLSearchParams({page:y,limit:10});c&&L.append("role",c),o&&(o==="verified"&&L.append("verified","true"),o==="unverified"&&L.append("verified","false"));const U=await ie.get(`${w}/admin/users?${L}`,{headers:{Authorization:`Bearer ${s}`}});a(U.data.users||[]),g(((P=U.data.pagination)==null?void 0:P.totalPages)||1)}catch(L){console.error("Error fetching users:",L),S.error("Failed to fetch users"),a([])}finally{i(!1)}},H=async P=>{try{await ie.put(`${w}/admin/users/${P}/approve`,{},{headers:{Authorization:`Bearer ${s}`}}),S.success("Seller approved successfully"),R()}catch(L){console.error("Error approving seller:",L),S.error("Failed to approve seller")}},_=async P=>{if(window.confirm("Are you sure you want to reject this seller application? This will deactivate their account."))try{await ie.put(`${w}/admin/users/${P}/reject`,{},{headers:{Authorization:`Bearer ${s}`}}),S.success("Seller rejected and account deactivated"),R()}catch(L){console.error("Error rejecting seller:",L),S.error("Failed to reject seller")}},Z=async(P,L)=>{try{await ie.put(`${w}/admin/users/${P}/role`,{role:L},{headers:{Authorization:`Bearer ${s}`}}),S.success("User role updated successfully"),R()}catch(U){console.error("Error updating role:",U),S.error("Failed to update user role")}},q=P=>{v(P),h(!0)},ee=r.filter(P=>P.name.toLowerCase().includes(l.toLowerCase())||P.email.toLowerCase().includes(l.toLowerCase()));return!t||t.role!=="admin"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600",children:"You need admin privileges to access this page."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage users, approve sellers, and oversee account roles"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name or email...",value:l,onChange:P=>m(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-gray-400"}),e.jsxs("select",{value:c,onChange:P=>x(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"buyer",children:"Buyers"}),e.jsx("option",{value:"seller",children:"Sellers"}),e.jsx("option",{value:"admin",children:"Admins"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-gray-400"}),e.jsxs("select",{value:o,onChange:P=>u(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"verified",children:"Verified Sellers"}),e.jsx("option",{value:"unverified",children:"Unverified Sellers"})]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map(P=>{var L,U;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-amber-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:P.name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name}),e.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("select",{value:P.role,onChange:Y=>Z(P._id,Y.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"buyer",children:"Buyer"}),e.jsx("option",{value:"seller",children:"Seller"}),e.jsx("option",{value:"admin",children:"Admin"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center space-x-2",children:P.role==="seller"?(L=P.sellerInfo)!=null&&L.verified?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(jt,{className:"w-3 h-3 mr-1"}),"Verified"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(jr,{className:"w-3 h-3 mr-1"}),"Pending"]}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Active"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(P.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>q(P),className:"text-blue-600 hover:text-blue-900 p-1",title:"View Details",children:e.jsx(Re,{className:"w-4 h-4"})}),P.role==="seller"&&!((U=P.sellerInfo)!=null&&U.verified)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>H(P._id),className:"text-green-600 hover:text-green-900 p-1",title:"Approve Seller",children:e.jsx(Pr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>_(P._id),className:"text-red-600 hover:text-red-900 p-1",title:"Reject Seller",children:e.jsx(El,{className:"w-4 h-4"})})]})]})})]},P._id)})})]})}),f>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>b(Math.max(1,y-1)),disabled:y===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>b(Math.min(f,y+1)),disabled:y===f,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing page ",e.jsx("span",{className:"font-medium",children:y})," of"," ",e.jsx("span",{className:"font-medium",children:f})]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>b(Math.max(1,y-1)),disabled:y===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:Math.min(5,f)},(P,L)=>{const U=Math.max(1,y-2)+L;return U>f?null:e.jsx("button",{onClick:()=>b(U),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${U===y?"z-10 bg-amber-50 border-amber-500 text-amber-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:U},U)}),e.jsx("button",{onClick:()=>b(Math.min(f,y+1)),disabled:y===f,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})]})}),ee.length===0&&!n&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx($e,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]}),e.jsx(es,{children:d&&j&&e.jsxs(e.Fragment,{children:[e.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>h(!1)}),e.jsx(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Details"}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Ce,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-amber-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl font-medium",children:j.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:j.name}),e.jsx("p",{className:"text-gray-600",children:j.email}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.role==="admin"?"bg-purple-100 text-purple-800":j.role==="seller"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:j.role.charAt(0).toUpperCase()+j.role.slice(1)}),j.role==="seller"&&e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(C=j.sellerInfo)!=null&&C.verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:(O=j.sellerInfo)!=null&&O.verified?"Verified":"Unverified"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-gray-900",children:j.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(nt,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-gray-900",children:j.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"w-5 h-5 text-gray-400"}),e.jsxs("span",{className:"text-gray-900",children:["Joined ",new Date(j.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"w-5 h-5 text-gray-400"}),e.jsxs("span",{className:"text-gray-900",children:["Last Login: ",j.lastLogin?new Date(j.lastLogin).toLocaleDateString():"Never"]})]})]}),j.address&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Address"}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Le,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"text-gray-900",children:[j.address.street&&e.jsx("div",{children:j.address.street}),j.address.city&&e.jsx("div",{children:j.address.city}),j.address.state&&e.jsx("div",{children:j.address.state}),j.address.pincode&&e.jsx("div",{children:j.address.pincode}),j.address.country&&e.jsx("div",{children:j.address.country})]})]})]}),j.role==="seller"&&j.sellerInfo&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Seller Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Business Name"}),e.jsx("p",{className:"text-gray-900",children:j.sellerInfo.businessName||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Tribe"}),e.jsx("p",{className:"text-gray-900",children:j.sellerInfo.tribe||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Region"}),e.jsx("p",{className:"text-gray-900",children:j.sellerInfo.region||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Verification Status"}),e.jsx("p",{className:`font-medium ${j.sellerInfo.verified?"text-green-600":"text-yellow-600"}`,children:j.sellerInfo.verified?"Verified":"Pending Verification"})]})]}),j.sellerInfo.description&&e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"text-gray-900 mt-1",children:j.sellerInfo.description})]})]}),j.role==="buyer"&&j.wishlist&&j.wishlist.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Wishlist Items"}),e.jsxs("p",{className:"text-gray-600",children:[j.wishlist.length," items in wishlist"]})]})]}),e.jsx("div",{className:"flex justify-end mt-6 pt-6 border-t",children:e.jsx("button",{onClick:()=>h(!1),className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})})})]})})]})})},ai=()=>{var O,P,L,U,Y,se,le,we,Fe,F,V,re,z;const{user:t,token:s}=G(),[r,a]=p.useState([]),[n,i]=p.useState(!0),[l,m]=p.useState(""),[c,x]=p.useState(""),[o,u]=p.useState(1),[y,b]=p.useState(1),[f,g]=p.useState(!1),[d,h]=p.useState(null),[j,v]=p.useState(!1),w="http://localhost:5000/api",R=["pending","confirmed","processing","shipped","delivered","cancelled","returned"];p.useEffect(()=>{H()},[o,c]);const H=async()=>{var k;try{i(!0);const $=new URLSearchParams({page:o,limit:10});c&&$.append("status",c);const W=await ie.get(`${w}/admin/orders?${$}`,{headers:{Authorization:`Bearer ${s}`}});a(W.data.orders||[]),b(((k=W.data.pagination)==null?void 0:k.totalPages)||1)}catch($){console.error("Error fetching orders:",$),S.error("Failed to fetch orders"),a([])}finally{i(!1)}},_=async(k,$,W="")=>{try{v(!0),await ie.put(`${w}/admin/orders/${k}/status`,{status:$,note:W},{headers:{Authorization:`Bearer ${s}`}}),S.success(`Order status updated to ${$}`),H(),d&&d._id===k&&h(T=>({...T,status:$}))}catch(T){console.error("Error updating order status:",T),S.error("Failed to update order status")}finally{v(!1)}},Z=k=>{h(k),g(!0)},q=k=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",returned:"bg-gray-100 text-gray-800"})[k]||"bg-gray-100 text-gray-800",ee=k=>({pending:jr,confirmed:jt,processing:X,shipped:Ue,delivered:jt,cancelled:Ce,returned:Ce})[k]||X,C=r.filter(k=>{var W,T,K,Q,ae;return((W=k.orderNumber)==null?void 0:W.toLowerCase().includes(l.toLowerCase()))||((K=(T=k.buyer)==null?void 0:T.name)==null?void 0:K.toLowerCase().includes(l.toLowerCase()))||((ae=(Q=k.buyer)==null?void 0:Q.email)==null?void 0:ae.toLowerCase().includes(l.toLowerCase()))});return!t||t.role!=="admin"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600",children:"You need admin privileges to access this page."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Order Management"}),e.jsx("p",{className:"text-gray-600",children:"Track and manage all orders in the marketplace"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by order number, customer name, or email...",value:l,onChange:k=>m(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-gray-400"}),e.jsxs("select",{value:c,onChange:k=>x(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Status"}),R.map(k=>e.jsx("option",{value:k,children:k.charAt(0).toUpperCase()+k.slice(1)},k))]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:n?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(k=>{var $,W,T,K,Q,ae,ke,ze,gs;return ee(k.status),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.orderNumber||`Order #${k._id.slice(-8)}`}),e.jsxs("div",{className:"text-sm text-gray-500",children:[(($=k.items)==null?void 0:$.length)||0," item",((W=k.items)==null?void 0:W.length)!==1?"s":""]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-amber-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-medium",children:((K=(T=k.buyer)==null?void 0:T.name)==null?void 0:K.charAt(0).toUpperCase())||"U"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:((Q=k.buyer)==null?void 0:Q.name)||"Unknown Customer"}),e.jsx("div",{className:"text-sm text-gray-500",children:((ae=k.buyer)==null?void 0:ae.email)||"No email"})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsx("select",{value:k.status,onChange:De=>_(k._id,De.target.value),disabled:j,className:`text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-amber-500 focus:border-transparent ${q(k.status)}`,children:R.map(De=>e.jsx("option",{value:De,children:De.charAt(0).toUpperCase()+De.slice(1)},De))})})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["",((ze=(ke=k.pricing)==null?void 0:ke.total)==null?void 0:ze.toLocaleString())||((gs=k.totalAmount)==null?void 0:gs.toLocaleString())||"0"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(k.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>Z(k),className:"text-blue-600 hover:text-blue-900 p-1",title:"View Details",children:e.jsx(Re,{className:"w-4 h-4"})})})]},k._id)})})]})}),y>1&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>u(Math.max(1,o-1)),disabled:o===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),e.jsx("button",{onClick:()=>u(Math.min(y,o+1)),disabled:o===y,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing page ",e.jsx("span",{className:"font-medium",children:o})," of"," ",e.jsx("span",{className:"font-medium",children:y})]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsx("button",{onClick:()=>u(Math.max(1,o-1)),disabled:o===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),Array.from({length:Math.min(5,y)},(k,$)=>{const W=Math.max(1,o-2)+$;return W>y?null:e.jsx("button",{onClick:()=>u(W),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${W===o?"z-10 bg-amber-50 border-amber-500 text-amber-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:W},W)}),e.jsx("button",{onClick:()=>u(Math.min(y,o+1)),disabled:o===y,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})})]})]})]})}),C.length===0&&!n&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(oe,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]}),e.jsx(es,{children:f&&d&&e.jsxs(e.Fragment,{children:[e.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>g(!1)}),e.jsx(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Order ",d.orderNumber||`#${d._id.slice(-8)}`]}),e.jsxs("p",{className:"text-gray-600",children:["Placed on ",new Date(d.createdAt).toLocaleDateString()," at"," ",new Date(d.createdAt).toLocaleTimeString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${q(d.status)}`,children:d.status.charAt(0).toUpperCase()+d.status.slice(1)}),e.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Ce,{className:"w-6 h-6"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-gray-900",children:((O=d.buyer)==null?void 0:O.name)||"Unknown Customer"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-gray-900",children:((P=d.buyer)==null?void 0:P.email)||"No email"})]}),d.shippingAddress&&e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Le,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{className:"text-gray-900",children:[e.jsx("div",{children:d.shippingAddress.name}),e.jsx("div",{children:d.shippingAddress.street}),e.jsxs("div",{children:[d.shippingAddress.city,", ",d.shippingAddress.state," ",d.shippingAddress.pincode]}),e.jsx("div",{children:d.shippingAddress.country})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),e.jsxs("span",{className:"text-gray-900",children:["",((U=(L=d.pricing)==null?void 0:L.subtotal)==null?void 0:U.toLocaleString())||"0"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Shipping:"}),e.jsxs("span",{className:"text-gray-900",children:["",((se=(Y=d.pricing)==null?void 0:Y.shipping)==null?void 0:se.toLocaleString())||"0"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tax:"}),e.jsxs("span",{className:"text-gray-900",children:["",((we=(le=d.pricing)==null?void 0:le.tax)==null?void 0:we.toLocaleString())||"0"]})]}),((Fe=d.pricing)==null?void 0:Fe.discount)>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount:"}),e.jsxs("span",{children:["-",d.pricing.discount.toLocaleString()]})]}),e.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[e.jsx("span",{className:"text-gray-900",children:"Total:"}),e.jsxs("span",{className:"text-gray-900",children:["",((V=(F=d.pricing)==null?void 0:F.total)==null?void 0:V.toLocaleString())||((re=d.totalAmount)==null?void 0:re.toLocaleString())||"0"]})]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Items"}),e.jsx("div",{className:"space-y-4",children:(z=d.items)==null?void 0:z.map((k,$)=>{var W,T,K,Q,ae,ke;return e.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(X,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:((W=k.product)==null?void 0:W.name)||"Product Name"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Seller: ",((T=k.seller)==null?void 0:T.name)||((Q=(K=k.seller)==null?void 0:K.sellerInfo)==null?void 0:Q.businessName)||"Unknown Seller"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",k.quantity,"  ",((ae=k.price)==null?void 0:ae.toLocaleString())||((ke=k.finalPrice)==null?void 0:ke.toLocaleString())||"0"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",(k.finalPrice*k.quantity).toLocaleString()||"0"]})})]},$)})})]}),d.paymentInfo&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Payment Method"}),e.jsx("p",{className:"text-gray-900 capitalize",children:d.paymentInfo.method})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Payment Status"}),e.jsx("p",{className:`font-medium ${d.paymentInfo.status==="completed"?"text-green-600":"text-yellow-600"}`,children:d.paymentInfo.status})]}),d.paymentInfo.paidAt&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Paid At"}),e.jsx("p",{className:"text-gray-900",children:new Date(d.paymentInfo.paidAt).toLocaleString()})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Update Order Status"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("select",{value:d.status,onChange:k=>h($=>({...$,status:k.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:R.map(k=>e.jsx("option",{value:k,children:k.charAt(0).toUpperCase()+k.slice(1)},k))}),e.jsx("button",{onClick:()=>_(d._id,d.status),disabled:j,className:"px-6 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors disabled:opacity-50",children:j?"Updating...":"Update Status"})]})]}),e.jsx("div",{className:"flex justify-end mt-6 pt-6 border-t",children:e.jsx("button",{onClick:()=>g(!1),className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})})})]})})]})})},ni=()=>e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6",children:"About Tribal Marketplace"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Empowering tribal artisans by connecting their authentic crafts with global customers, preserving cultural heritage while ensuring fair compensation."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center mb-16",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Mission"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We are dedicated to preserving traditional tribal crafts and ensuring fair compensation for indigenous artisans. Our platform bridges the gap between rural artisans and global customers, creating sustainable economic opportunities."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(je,{className:"w-6 h-6 text-amber-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Cultural Preservation"}),e.jsx("p",{className:"text-gray-600",children:"Keeping traditional crafts alive for future generations"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx($e,{className:"w-6 h-6 text-amber-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Fair Trade"}),e.jsx("p",{className:"text-gray-600",children:"Ensuring artisans receive fair compensation for their work"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Jt,{className:"w-6 h-6 text-amber-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Global Reach"}),e.jsx("p",{className:"text-gray-600",children:"Connecting artisans with customers worldwide"})]})]})]})]}),e.jsx("div",{className:"bg-gradient-to-br from-amber-100 to-orange-100 rounded-2xl p-8 h-96 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Nr,{className:"w-24 h-24 text-amber-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Authentic Crafts"})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Our Values"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(je,{className:"w-8 h-8 text-amber-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Authenticity"}),e.jsx("p",{className:"text-gray-600",children:"Every product is genuinely handcrafted by tribal artisans using traditional techniques passed down through generations."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($e,{className:"w-8 h-8 text-amber-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Community"}),e.jsx("p",{className:"text-gray-600",children:"We build strong relationships with artisan communities, supporting their economic development and cultural preservation."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Jt,{className:"w-8 h-8 text-amber-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Sustainability"}),e.jsx("p",{className:"text-gray-600",children:"Our platform promotes sustainable practices, environmental consciousness, and long-term economic viability for artisan communities."})]})]})]})]})}),li=()=>{const[t,s]=p.useState({name:"",email:"",subject:"",message:""}),r=n=>{s({...t,[n.target.name]:n.target.value})},a=n=>{n.preventDefault(),console.log("Form submitted:",t)};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Contact Us"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Get in touch with us for any questions or support"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Get in Touch"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"We'd love to hear from you. Send us a message and we'll respond as soon as possible."}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center",children:e.jsx(Te,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Email"}),e.jsx("p",{className:"text-gray-600",children:"support@tribalmarketplace.com"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center",children:e.jsx(nt,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Phone"}),e.jsx("p",{className:"text-gray-600",children:"+91 98765 43210"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center",children:e.jsx(Le,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Address"}),e.jsxs("p",{className:"text-gray-600",children:["123 Craft Street",e.jsx("br",{}),"New Delhi, India 110001"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a Message"}),e.jsxs("form",{onSubmit:a,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",id:"name",name:"name",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500",value:t.name,onChange:r})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500",value:t.email,onChange:r})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),e.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500",value:t.subject,onChange:r})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),e.jsx("textarea",{id:"message",name:"message",rows:6,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500",value:t.message,onChange:r})]}),e.jsxs("button",{type:"submit",className:"w-full bg-amber-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-amber-700 transition-colors flex items-center justify-center",children:[e.jsx(Sr,{className:"w-5 h-5 mr-2"}),"Send Message"]})]})]})]})]})})},ii=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-md w-full text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-9xl font-bold text-amber-600",children:"404"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-4",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"The page you're looking for doesn't exist or has been moved."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(A,{to:"/",className:"inline-flex items-center px-6 py-3 bg-amber-600 text-white font-medium rounded-lg hover:bg-amber-700 transition-colors",children:[e.jsx(Cl,{className:"w-5 h-5 mr-2"}),"Go Home"]}),e.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center px-6 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors ml-4",children:[e.jsx(he,{className:"w-5 h-5 mr-2"}),"Go Back"]})]})]})});function oi(){return e.jsx(Ar,{children:e.jsx(cl,{children:e.jsx(gl,{children:e.jsx(Tr,{children:e.jsxs(M,{element:e.jsx(Ll,{}),children:[e.jsx(M,{path:"/",element:e.jsx(Fl,{})}),e.jsx(M,{path:"products",element:e.jsx(Il,{})}),e.jsx(M,{path:"products/:id",element:e.jsx(Bl,{})}),e.jsx(M,{path:"cart",element:e.jsx(zl,{})}),e.jsx(M,{path:"checkout",element:e.jsx(Gl,{})}),e.jsx(M,{path:"order-confirmation",element:e.jsx(Yl,{})}),e.jsx(M,{path:"demo-cancel-order",element:e.jsx(Ql,{})}),e.jsx(M,{path:"payment",element:e.jsx(Jl,{})}),e.jsx(M,{path:"order-tracking",element:e.jsx(Ms,{})}),e.jsx(M,{path:"order-tracking/:orderId",element:e.jsx(Ms,{})}),e.jsx(M,{path:"profile",element:e.jsx(ce,{allowedRoles:["buyer","seller","admin","artisan"],children:e.jsx(Kl,{})})}),e.jsx(M,{path:"wishlist",element:e.jsx(ce,{allowedRoles:["buyer"],children:e.jsx(Hl,{})})}),e.jsx(M,{path:"about",element:e.jsx(ni,{})}),e.jsx(M,{path:"contact",element:e.jsx(li,{})}),e.jsx(M,{path:"login",element:e.jsx(Ul,{})}),e.jsx(M,{path:"register",element:e.jsx($l,{})}),e.jsx(M,{path:"forgot-password",element:e.jsx(ql,{})}),e.jsx(M,{path:"reset-password/:token",element:e.jsx(Wl,{})}),e.jsx(M,{path:"admin/dashboard",element:e.jsx(ce,{allowedRoles:["admin"],children:e.jsx(ei,{})})}),e.jsx(M,{path:"admin/users",element:e.jsx(ce,{allowedRoles:["admin"],children:e.jsx(ri,{})})}),e.jsx(M,{path:"admin/orders",element:e.jsx(ce,{allowedRoles:["admin"],children:e.jsx(ai,{})})}),e.jsx(M,{path:"seller/dashboard",element:e.jsx(ce,{allowedRoles:["seller"],children:e.jsx(Zl,{})})}),e.jsx(M,{path:"seller/products",element:e.jsx(ce,{allowedRoles:["seller"],children:e.jsx(_t,{})})}),e.jsx(M,{path:"seller/products/add",element:e.jsx(ce,{allowedRoles:["seller"],children:e.jsx(_t,{isAddMode:!0})})}),e.jsx(M,{path:"artisan/dashboard",element:e.jsx(ce,{allowedRoles:["artisan"],children:e.jsx(ti,{})})}),e.jsx(M,{path:"buyer/dashboard",element:e.jsx(ce,{allowedRoles:["buyer"],children:e.jsx(Xl,{})})}),e.jsx(M,{path:"admin/products",element:e.jsx(ce,{allowedRoles:["admin"],children:e.jsx(_t,{})})}),e.jsx(M,{path:"dashboard",element:e.jsx(Ge,{to:"/buyer/dashboard",replace:!0})}),e.jsx(M,{path:"admin",element:e.jsx(Ge,{to:"/admin/dashboard",replace:!0})}),e.jsx(M,{path:"seller",element:e.jsx(Ge,{to:"/seller/dashboard",replace:!0})}),e.jsx(M,{path:"*",element:e.jsx(ii,{})})]})})})})})}Mt.createRoot(document.getElementById("root")).render(e.jsx(me.StrictMode,{children:e.jsxs(Lr,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[e.jsx(oi,{}),e.jsx(Pa,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,theme:{primary:"#4aed88"}}}})]})}));export{ie as a};
